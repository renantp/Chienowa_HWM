RL78 Family Assembler V1.10.00.01 Assemble Source List

OFFSET   CODE                  NO  SOURCE STATEMENT

00000000                        1  #CC-RL Compiler RL78 Assembler Source
00000000                        2  #@  CC-RL Version : V1.10.00 [20 Nov 2020]
00000000                        3  #@  Commmand :
00000000                        4  #@   -cpu=S3
00000000                        5  #@   -c
00000000                        6  #@   -dev=D:/Chieniwa/E2_Studio/.eclipse/com.renesas.platform_1435879475/DebugComp/RL78/RL78/Common/DR5F104ML.DVF
00000000                        7  #@   -MAKEUD=D:\Chieniwa\E2_Studio\ControlPCB_HWM\HardwareDebug\src
00000000                        8  #@   -I C:\Program Files (x86)\Renesas Electronics\CS+\CC\CC-RL\V1.10.00\inc
00000000                        9  #@   -I D:\Chieniwa\E2_Studio\ControlPCB_HWM\generate
00000000                       10  #@   -character_set=utf8
00000000                       11  #@   -lang=c99
00000000                       12  #@   -g
00000000                       13  #@   -asmopt=-prn_path=src
00000000                       14  #@   -asm_path=src/
00000000                       15  #@   -pass_source
00000000                       16  #@   -o src/main.obj
00000000                       17  #@   ../src/main.c
00000000                       18  #@  compiled at Thu Dec 02 17:38:58 2021
00000000                       19  
00000000                       20  	.EXTERN _g_control_buffer
00000000                       21  	.EXTERN _g_systemTime
00000000                       22  	.EXTERN _g_uart2_send
00000000                       23  	.EXTERN _g_error
00000000                       24  	.EXTERN _g_rx_data
00000000                       25  	.PUBLIC _g_timerSetting
00000000                       26  	.PUBLIC _g_numberSetting
00000000                       27  	.PUBLIC _g_color
00000000                       28  	.PUBLIC _g_pre_color
00000000                       29  	.PUBLIC _g_cvcc_current
00000000                       30  	.PUBLIC _g_cvcc_voltge
00000000                       31  	.PUBLIC _g_alarm
00000000                       32  	.PUBLIC _g_flow_value
00000000                       33  	.PUBLIC _g_neutralization_time
00000000                       34  	.PUBLIC _g_electrolytic_flag
00000000                       35  	.PUBLIC _handSensorLED
00000000                       36  	.PUBLIC _setting_default
00000000                       37  	.PUBLIC _sendToRasPi
00000000                       38  	.EXTERN _R_UART2_Send
00000000                       39  	.PUBLIC _InitialOperationModeStart
00000000                       40  	.EXTERN _R_WDT_Restart
00000000                       41  	.PUBLIC _FlowSensorCheck
00000000                       42  	.EXTERN _delay
00000000                       43  	.PUBLIC _WaterSupplyOperation
00000000                       44  	.EXTERN _delay_ms
00000000                       45  	.PUBLIC _Voltage1Check
00000000                       46  	.PUBLIC _Voltage2Check
00000000                       47  	.PUBLIC _Voltage3Check
00000000                       48  	.PUBLIC _LowVoltageCheck
00000000                       49  	.PUBLIC _OverCurrentCheck
00000000                       50  	.PUBLIC _ElectrolyticOperation
00000000                       51  	.PUBLIC _solenoidCheck
00000000                       52  	.PUBLIC _saltWaterTankFullCheck
00000000                       53  	.PUBLIC _saltWaterTankEmptyCheck
00000000                       54  	.PUBLIC _acidWaterTankSkipCheck
00000000                       55  	.PUBLIC _alkalineWaterTankSkipCheck
00000000                       56  	.PUBLIC _OpenSV1
00000000                       57  	.PUBLIC _CloseSV1
00000000                       58  	.PUBLIC _OpenSV2
00000000                       59  	.PUBLIC _CloseSV2
00000000                       60  	.PUBLIC _FilterReplacementCheck
00000000                       61  	.PUBLIC _main_20211111
00000000                       62  	.PUBLIC _waitReset
00000000                       63  	.PUBLIC _electrolyticOperationON
00000000                       64  	.PUBLIC _electrolyticOperationOFF
00000000                       65  	.PUBLIC _measureFlowSensor
00000000                       66  	.EXTERN _ns_delay_ms
00000000                       67  	.PUBLIC _CRC8
00000000                       68  
00000000                       69  	.SECTION .textf,TEXTF
00000000                       70  _handSensorLED:
00000000                       71  	.STACK _handSensorLED = 4
00000000                       72  	;***        1 : /*
00000000                       73  	;***        2 :  * main.c
00000000                       74  	;***        3 :  *
00000000                       75  	;***        4 :  *  Created on: 29 Oct 2021
00000000                       76  	;***        5 :  *      Author: Renan
00000000                       77  	;***        6 :  */
00000000                       78  	;***        7 : 
00000000                       79  	;***        8 : #include "r_cg_macrodriver.h"
00000000                       80  	;***        9 : #include "r_cg_userdefine.h"
00000000                       81  	;***       10 : #include "usr_setting_sheet.h"
00000000                       82  	;***       11 : #include "usr_timer.h"
00000000                       83  	;***       12 : #include "r_cg_cgc.h"
00000000                       84  	;***       13 : #include "r_cg_port.h"
00000000                       85  	;***       14 : #include "r_cg_serial.h"
00000000                       86  	;***       15 : #include "r_cg_adc.h"
00000000                       87  	;***       16 : #include "r_cg_timer.h"
00000000                       88  	;***       17 : #include "r_cg_wdt.h"
00000000                       89  	;***       18 : #include "main.h"
00000000                       90  	;***       19 : 
00000000                       91  	;***       20 : #define VCC (24.0)
00000000                       92  	;***       21 : 
00000000                       93  	;***       22 : struct Timer_Setting_s g_timerSetting = {1000, 15};
00000000                       94  	;***       23 : struct Number_Setting_s g_numberSetting;
00000000                       95  	;***       24 : enum HS_COLOR g_color, g_pre_color;
00000000                       96  	;***       25 : float g_cvcc_current, g_cvcc_voltge;
00000000                       97  	;***       26 : enum Control_header g_alarm;
00000000                       98  	;***       27 : float g_flow_value;
00000000                       99  	;***       28 : uint32_t g_neutralization_time = 0;
00000000                      100  	;***       29 : volatile uint8_t g_electrolytic_flag = 0;
00000000                      101  	;***       30 : 
00000000                      102  	;***       31 : //void electrolyticOperationON(void);
00000000                      103  	;***       32 : //void electrolyticOperationOFF(void);
00000000                      104  	;***       33 : void handSensorLED(enum HS_COLOR color){
00000000                      105  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 33
00000000 9F0000               106  	mov !LOWW(_g_color), a
00000003                      107  	;***       34 : 	g_color = color;
00000003                      108  	;***       35 : 	if(g_color != g_pre_color){
00000003                      109  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 35
00000003 4F0000               110  	cmp a, !LOWW(_g_pre_color)
00000006 61F8                 111  	sknz
00000008                      112  .BB@LABEL@1_1:	; return
00000008                      113  	;***       36 : 		switch (color) {
00000008                      114  	;***       37 : 			case RED:
00000008                      115  	;***       38 : 				O_HS_ICL_PIN = 1;
00000008                      116  	;***       39 : 				O_HS_IDA_PIN = 0;
00000008                      117  	;***       40 : 				break;
00000008                      118  	;***       41 : 			case BLUE:
00000008                      119  	;***       42 : 				O_HS_ICL_PIN = 0;
00000008                      120  	;***       43 : 				O_HS_IDA_PIN = 0;
00000008                      121  	;***       44 : 				break;
00000008                      122  	;***       45 : 			case WHITE:
00000008                      123  	;***       46 : 				O_HS_ICL_PIN = 0;
00000008                      124  	;***       47 : 				O_HS_IDA_PIN = 1;
00000008                      125  	;***       48 : 				break;
00000008                      126  	;***       49 : 			default:
00000008                      127  	;***       50 : 				O_HS_ICL_PIN = 1;
00000008                      128  	;***       51 : 				O_HS_IDA_PIN = 1;
00000008                      129  	;***       52 : 				break;
00000008                      130  	;***       53 : 		}
00000008                      131  	;***       54 : 		g_pre_color = g_color;
00000008                      132  	;***       55 : 	}
00000008                      133  	;***       56 : }
00000008                      134  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 56
00000008 D7                   135  	ret
00000009                      136  .BB@LABEL@1_2:	; if_then_bb
00000009 3601FF               137  	movw hl, #0xFF01
0000000C                      138  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 36
0000000C 91                   139  	dec a
0000000D DD00                 140  	bz $.BB@LABEL@1_6
0000000F                      141  .BB@LABEL@1_3:	; if_then_bb
0000000F 91                   142  	dec a
00000010 DD00                 143  	bz $.BB@LABEL@1_8
00000012                      144  .BB@LABEL@1_4:	; if_then_bb
00000012 91                   145  	dec a
00000013 DD00                 146  	bz $.BB@LABEL@1_7
00000015                      147  .BB@LABEL@1_5:	; switch_clause_bb12
00000015                      148  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 50
00000015 71E2                 149  	set1 [hl].6
00000017 EF00                 150  	br $.BB@LABEL@1_9
00000019                      151  .BB@LABEL@1_6:	; switch_clause_bb
00000019                      152  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 38
00000019 71E2                 153  	set1 [hl].6
0000001B                      154  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 39
0000001B 71D3                 155  	clr1 [hl].5
0000001D EF00                 156  	br $.BB@LABEL@1_10
0000001F                      157  .BB@LABEL@1_7:	; switch_clause_bb10
0000001F                      158  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 42
0000001F 71E3                 159  	clr1 [hl].6
00000021                      160  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 43
00000021 71D3                 161  	clr1 [hl].5
00000023 EF00                 162  	br $.BB@LABEL@1_10
00000025                      163  .BB@LABEL@1_8:	; switch_clause_bb11
00000025                      164  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 46
00000025 71E3                 165  	clr1 [hl].6
00000027                      166  .BB@LABEL@1_9:	; switch_clause_bb11
00000027 71D2                 167  	set1 [hl].5
00000029                      168  .BB@LABEL@1_10:	; switch_break_bb
00000029                      169  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 54
00000029 8F0000               170  	mov a, !LOWW(_g_color)
0000002C 9F0000               171  	mov !LOWW(_g_pre_color), a
0000002F D7                   172  	ret
00000030                      173  _setting_default:
00000030                      174  	.STACK _setting_default = 4
00000030                      175  	;***       57 : void setting_default(void){
00000030                      176  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 57
00000030 308940               177  	movw ax, #0x4089
00000033                      178  	;***       58 : 	g_numberSetting.upperVoltage1 = 4.3;
00000033                      179  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 58
00000033 BF0000               180  	movw !LOWW(_g_numberSetting+0x00002), ax
00000036 309A99               181  	movw ax, #0x999A
00000039 BF0000               182  	movw !LOWW(_g_numberSetting), ax
0000003C                      183  	;***       59 : 	g_numberSetting.upperVoltage2 = 2.7;
0000003C                      184  	;***       60 : 	g_numberSetting.upperVoltage3 = 1.2;
0000003C                      185  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 60
0000003C BF0000               186  	movw !LOWW(_g_numberSetting+0x00008), ax
0000003F                      187  	;***       61 : 	g_numberSetting.lowerVoltage = 0.5;
0000003F                      188  	;***       62 : 	g_numberSetting.upperCurrent = 2.2;
0000003F                      189  	;***       63 : 	g_numberSetting.lowerCurrent = 0.5;
0000003F                      190  	;***       64 : 	g_numberSetting.upperFlow = 1.2;
0000003F                      191  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 64
0000003F BF0000               192  	movw !LOWW(_g_numberSetting+0x00018), ax
00000042 302C40               193  	movw ax, #0x402C
00000045                      194  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 59
00000045 BF0000               195  	movw !LOWW(_g_numberSetting+0x00006), ax
00000048 30CDCC               196  	movw ax, #0xCCCD
0000004B BF0000               197  	movw !LOWW(_g_numberSetting+0x00004), ax
0000004E                      198  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 62
0000004E BF0000               199  	movw !LOWW(_g_numberSetting+0x00010), ax
00000051                      200  	;***       65 : 	g_numberSetting.lowerFlow = 0.2;
00000051                      201  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 65
00000051 BF0000               202  	movw !LOWW(_g_numberSetting+0x0001C), ax
00000054 30993F               203  	movw ax, #0x3F99
00000057                      204  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 60
00000057 BF0000               205  	movw !LOWW(_g_numberSetting+0x0000A), ax
0000005A                      206  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 64
0000005A BF0000               207  	movw !LOWW(_g_numberSetting+0x0001A), ax
0000005D F0                   208  	clrb x
0000005E                      209  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 61
0000005E BF0000               210  	movw !LOWW(_g_numberSetting+0x0000E), ax
00000061                      211  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 63
00000061 BF0000               212  	movw !LOWW(_g_numberSetting+0x00016), ax
00000064 F1                   213  	clrb a
00000065                      214  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 61
00000065 BF0000               215  	movw !LOWW(_g_numberSetting+0x0000C), ax
00000068                      216  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 63
00000068 BF0000               217  	movw !LOWW(_g_numberSetting+0x00014), ax
0000006B                      218  	;***       66 : 	g_timerSetting.t2_flowSensorStartTime = 30000;
0000006B                      219  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 66
0000006B BF0000               220  	movw !LOWW(_g_timerSetting+0x00002), ax
0000006E                      221  	;***       67 : 	g_timerSetting.t3_flowSensorMonitorTime = 5000;
0000006E                      222  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 67
0000006E BF0000               223  	movw !LOWW(_g_timerSetting+0x00006), ax
00000071                      224  	;***       68 : 	g_timerSetting.t11_overVoltage1Time = 1000;
00000071                      225  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 68
00000071 BF0000               226  	movw !LOWW(_g_timerSetting+0x0000E), ax
00000074                      227  	;***       69 : 	g_timerSetting.t12_overVoltage2Time = 2000;
00000074                      228  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 69
00000074 BF0000               229  	movw !LOWW(_g_timerSetting+0x00012), ax
00000077                      230  	;***       70 : 	g_timerSetting.t13_overVoltage3Time = 5000;
00000077                      231  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 70
00000077 BF0000               232  	movw !LOWW(_g_timerSetting+0x00016), ax
0000007A                      233  	;***       71 : 	g_timerSetting.t14_lowVoltageStartTime = 5000; //60000
0000007A                      234  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 71
0000007A BF0000               235  	movw !LOWW(_g_timerSetting+0x0001A), ax
0000007D                      236  	;***       72 : 	g_timerSetting.t15_lowVoltageDelayTime = 2000;
0000007D                      237  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 72
0000007D BF0000               238  	movw !LOWW(_g_timerSetting+0x0001E), ax
00000080                      239  	;***       73 : 	g_timerSetting.t17_solenoidLeakageStartTime = 5000;
00000080                      240  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 73
00000080 BF0000               241  	movw !LOWW(_g_timerSetting+0x00022), ax
00000083 300C40               242  	movw ax, #0x400C
00000086                      243  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 62
00000086 BF0000               244  	movw !LOWW(_g_numberSetting+0x00012), ax
00000089 304C3E               245  	movw ax, #0x3E4C
0000008C                      246  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 65
0000008C BF0000               247  	movw !LOWW(_g_numberSetting+0x0001E), ax
0000008F 303075               248  	movw ax, #0x7530
00000092                      249  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 66
00000092 BF0000               250  	movw !LOWW(_g_timerSetting), ax
00000095 308813               251  	movw ax, #0x1388
00000098                      252  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 67
00000098 BF0000               253  	movw !LOWW(_g_timerSetting+0x00004), ax
0000009B                      254  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 70
0000009B BF0000               255  	movw !LOWW(_g_timerSetting+0x00014), ax
0000009E                      256  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 71
0000009E BF0000               257  	movw !LOWW(_g_timerSetting+0x00018), ax
000000A1                      258  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 73
000000A1 BF0000               259  	movw !LOWW(_g_timerSetting+0x00020), ax
000000A4 30E803               260  	movw ax, #0x03E8
000000A7                      261  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 68
000000A7 BF0000               262  	movw !LOWW(_g_timerSetting+0x0000C), ax
000000AA 30D007               263  	movw ax, #0x07D0
000000AD                      264  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 69
000000AD BF0000               265  	movw !LOWW(_g_timerSetting+0x00010), ax
000000B0                      266  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 72
000000B0 BF0000               267  	movw !LOWW(_g_timerSetting+0x0001C), ax
000000B3                      268  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 73
000000B3 D7                   269  	ret
000000B4                      270  _sendToRasPi:
000000B4                      271  	.STACK _sendToRasPi = 10
000000B4                      272  	;***       74 : }
000000B4                      273  	;***       75 : #ifdef RENAN_CODE
000000B4                      274  	;***       76 : void renanCode(void){
000000B4                      275  	;***       77 : 	//Power On Mode
000000B4                      276  	;***       78 : 	O_DRAIN_ACID_PIN = I_ACID_L_PIN == I_ON ? ON:OFF;	// Turn on SV5 if ACID tank empty
000000B4                      277  	;***       79 : 	O_DRAIN_ALK_PIN = I_ALKALI_L_PIN == I_ON ? ON:OFF;	// Turn on SV6 if ALK tank empty
000000B4                      278  	;***       80 : 	do{
000000B4                      279  	;***       81 : 		O_DRAIN_ACID_PIN = I_ACID_L_PIN == I_ON ? ON:O_DRAIN_ACID_PIN;	// Turn on SV5 if ACID tank empty
000000B4                      280  	;***       82 : 		O_DRAIN_ALK_PIN = I_ALKALI_L_PIN == I_ON ? ON:O_DRAIN_ALK_PIN;	// Turn on SV6 if ALK tank empty
000000B4                      281  	;***       83 : 		O_PUMP_ACID_PIN = I_ACID_L_PIN == I_ON ? ON:OFF;	// Turn on P1 if SV5 is open
000000B4                      282  	;***       84 : 		O_PUMP_ALK_PIN = I_ALKALI_L_PIN == I_ON ? ON:OFF;	// Turn on P2 if SV6 is open
000000B4                      283  	;***       85 : 		R_WDT_Restart();
000000B4                      284  	;***       86 : 	}while((I_ACID_L_PIN == I_ON)|(I_ALKALI_L_PIN == I_ON));
000000B4                      285  	;***       87 : 	delay_ms(st[0]); // 0.2 ~ 1.0 seconds to prevent water hammer
000000B4                      286  	;***       88 : 	O_DRAIN_ACID_PIN = O_DRAIN_ALK_PIN = OFF;	// Turn on SV5 if ACID tank empty. Turn on SV6 if ALK tank empty
000000B4                      287  	;***       89 : 
000000B4                      288  	;***       90 : 	// Drainage operation
000000B4                      289  	;***       91 : 	O_SPOUT_WATER_PIN = ON;	// SV2 On
000000B4                      290  	;***       92 : 	delay(st[1]);			// Default 30 seconds
000000B4                      291  	;***       93 : 	O_SUPPLY_WATER_PIN = ON;	// SV1 On
000000B4                      292  	;***       94 : 	delay_ms(500);
000000B4                      293  	;***       95 : 	O_SPOUT_WATER_PIN = OFF;	// SV2 Off
000000B4                      294  	;***       96 : }
000000B4                      295  	;***       97 : 
000000B4                      296  	;***       98 : 
000000B4                      297  	;***       99 : void code_20211029(void){
000000B4                      298  	;***      100 : 	//---------------Electrolytic operation-----------------------------
000000B4                      299  	;***      101 : 	O_SUPPLY_WATER_PIN = ON; //SV1
000000B4                      300  	;***      102 : 	O_CVCC_ON_PIN = ON;
000000B4                      301  	;***      103 : 	O_PUMP_SALT_PIN = ON; //SP1
000000B4                      302  	;***      104 : 	delay(10);
000000B4                      303  	;***      105 : 	//TODO: Neutralization timer On
000000B4                      304  	;***      106 : 
000000B4                      305  	;***      107 : 	overVoltage1Error();
000000B4                      306  	;***      108 : }
000000B4                      307  	;***      109 : #endif
000000B4                      308  	;***      110 : 
000000B4                      309  	;***      111 : //----------------------Begin code 11112021--------------------------------------
000000B4                      310  	;***      112 : void sendToRasPi(enum UART_header_e head, enum Control_header type, float value){
000000B4                      311  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 112
000000B4 C7                   312  	push hl
000000B5 C1                   313  	push ax
000000B6 13                   314  	movw ax, bc
000000B7 C5                   315  	push de
000000B8 C2                   316  	pop bc
000000B9                      317  	;***      113 : 	uint8_t state = g_uart2_send;
000000B9                      318  	;***      114 : 	g_control_buffer.head = head;
000000B9                      319  	;***      115 : 	g_control_buffer.set_number = type;
000000B9                      320  	;***      116 : 	g_control_buffer.set_value = value;
000000B9                      321  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 116
000000B9 FC000000             322  	call !!__COM_ftoul
000000BD BF0000               323  	movw !LOWW(_g_control_buffer+0x00002), ax
000000C0 13                   324  	movw ax, bc
000000C1 BF0000               325  	movw !LOWW(_g_control_buffer+0x00004), ax
000000C4                      326  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 113
000000C4 8F0000               327  	mov a, !LOWW(_g_uart2_send)
000000C7 9802                 328  	mov [sp+0x02], a
000000C9 8801                 329  	mov a, [sp+0x01]
000000CB                      330  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 114
000000CB 9F0000               331  	mov !LOWW(_g_control_buffer), a
000000CE 8800                 332  	mov a, [sp+0x00]
000000D0                      333  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 115
000000D0 9F0000               334  	mov !LOWW(_g_control_buffer+0x00001), a
000000D3                      335  	;***      117 : 	R_UART2_Send((uint8_t *)&g_control_buffer, sizeof(struct UART_Buffer_s));
000000D3                      336  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 117
000000D3 320600               337  	movw bc, #0x0006
000000D6 300000               338  	movw ax, #LOWW(_g_control_buffer)
000000D9 FC000000             339  	call !!_R_UART2_Send
000000DD                      340  .BB@LABEL@3_1:	; bb10
000000DD 8802                 341  	mov a, [sp+0x02]
000000DF                      342  	;***      118 : 	while(state == g_uart2_send);
000000DF                      343  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 118
000000DF 4F0000               344  	cmp a, !LOWW(_g_uart2_send)
000000E2 DD00                 345  	bz $.BB@LABEL@3_1
000000E4                      346  .BB@LABEL@3_2:	; return
000000E4                      347  	;***      119 : }
000000E4                      348  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 119
000000E4 1004                 349  	addw sp, #0x04
000000E6 D7                   350  	ret
000000E7                      351  _InitialOperationModeStart:
000000E7                      352  	.STACK _InitialOperationModeStart = 4
000000E7                      353  	;***      120 : /**
000000E7                      354  	;***      121 :  * InitialOperationModeStart
000000E7                      355  	;***      122 :  * 30/11/2021: Checked!
000000E7                      356  	;***      123 :  */
000000E7                      357  	;***      124 : void InitialOperationModeStart(void){
000000E7                      358  	;***      125 : 	OPTION_1_PIN = I_ACID_L_PIN == I_ON ? ON:OFF;	// Turn on SV5 if ACID tank empty
000000E7                      359  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 125
000000E7 8D07                 360  	mov a, 0xFFF07
000000E9 E0                   361  	oneb x
000000EA 311500               362  	bf a.1, $.BB@LABEL@4_2
000000ED                      363  .BB@LABEL@4_1:	; bb6
000000ED F0                   364  	clrb x
000000EE                      365  .BB@LABEL@4_2:	; bb7
000000EE 51FE                 366  	mov a, #0xFE
000000F0 5B0B                 367  	and a, 0xFFF0B
000000F2 6108                 368  	add a, x
000000F4 9D0B                 369  	mov 0xFFF0B, a
000000F6                      370  	;***      126 : 	OPTION_2_PIN = I_ALKALI_L_PIN == I_ON ? ON:OFF;	// Turn on SV6 if ALK tank empty
000000F6                      371  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 126
000000F6 8D00                 372  	mov a, 0xFFF00
000000F8 5002                 373  	mov x, #0x02
000000FA 315500               374  	bf a.5, $.BB@LABEL@4_4
000000FD                      375  .BB@LABEL@4_3:	; bb21
000000FD F0                   376  	clrb x
000000FE                      377  .BB@LABEL@4_4:	; bb23
000000FE 51FD                 378  	mov a, #0xFD
00000100 5B0B                 379  	and a, 0xFFF0B
00000102 6168                 380  	or a, x
00000104 9D0B                 381  	mov 0xFFF0B, a
00000106                      382  .BB@LABEL@4_5:	; bb32
00000106                      383  	;***      127 : 	do{
00000106                      384  	;***      128 : 		OPTION_1_PIN = I_ACID_L_PIN == I_ON ? ON:OPTION_1_PIN;	// Turn on SV5 if ACID tank empty
00000106                      385  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 128
00000106 8D07                 386  	mov a, 0xFFF07
00000108 719C                 387  	mov1 CY, a.1
0000010A E1                   388  	oneb a
0000010B 61D8                 389  	sknc
0000010D                      390  .BB@LABEL@4_6:	; bb40
0000010D 5B0B                 391  	and a, 0xFFF0B
0000010F                      392  .BB@LABEL@4_7:	; bb46
0000010F 70                   393  	mov x, a
00000110 51FE                 394  	mov a, #0xFE
00000112 5B0B                 395  	and a, 0xFFF0B
00000114 6108                 396  	add a, x
00000116 9D0B                 397  	mov 0xFFF0B, a
00000118                      398  	;***      129 : 		OPTION_2_PIN = I_ALKALI_L_PIN == I_ON ? ON:OPTION_2_PIN;	// Turn on SV6 if ALK tank empty
00000118                      399  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 129
00000118 8D00                 400  	mov a, 0xFFF00
0000011A 71DC                 401  	mov1 CY, a.5
0000011C 5102                 402  	mov a, #0x02
0000011E 61D8                 403  	sknc
00000120                      404  .BB@LABEL@4_8:	; bb61
00000120 5B0B                 405  	and a, 0xFFF0B
00000122                      406  .BB@LABEL@4_9:	; bb67
00000122 70                   407  	mov x, a
00000123 51FD                 408  	mov a, #0xFD
00000125 5B0B                 409  	and a, 0xFFF0B
00000127 6168                 410  	or a, x
00000129 9D0B                 411  	mov 0xFFF0B, a
0000012B                      412  	;***      130 : 		R_WDT_Restart();
0000012B                      413  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 130
0000012B FC000000             414  	call !!_R_WDT_Restart
0000012F                      415  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 127
0000012F 8D07                 416  	mov a, 0xFFF07
00000131 311A                 417  	shr a, 0x01
00000133 5C01                 418  	and a, #0x01
00000135 7C01                 419  	xor a, #0x01
00000137 70                   420  	mov x, a
00000138 8D00                 421  	mov a, 0xFFF00
0000013A 315A                 422  	shr a, 0x05
0000013C 5C01                 423  	and a, #0x01
0000013E 7C01                 424  	xor a, #0x01
00000140 6168                 425  	or a, x
00000142 DF00                 426  	bnz $.BB@LABEL@4_5
00000144                      427  .BB@LABEL@4_10:	; return
00000144                      428  	;***      131 : 	}while((I_ACID_L_PIN == I_ON)|(I_ALKALI_L_PIN == I_ON));
00000144                      429  	;***      132 : }
00000144                      430  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 132
00000144 D7                   431  	ret
00000145                      432  _FlowSensorCheck:
00000145                      433  	.STACK _FlowSensorCheck = 18
00000145                      434  	;***      133 : /**
00000145                      435  	;***      134 :  * FlowSensorCheck
00000145                      436  	;***      135 :  * 30/11/2021: Checked!
00000145                      437  	;***      136 :  * @return 0 is Error, 1 is OK
00000145                      438  	;***      137 :  */
00000145                      439  	;***      138 : uint8_t FlowSensorCheck(uint32_t *_time){
00000145                      440  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 138
00000145 2008                 441  	subw sp, #0x08
00000147 C1                   442  	push ax
00000148                      443  	;***      139 : 	delay(15);
00000148                      444  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 139
00000148 510F                 445  	mov a, #0x0F
0000014A FC000000             446  	call !!_delay
0000014E C4                   447  	pop de
0000014F C5                   448  	push de
00000150                      449  	;***      140 : 	g_flow_value = measureFlowSensor(*_time);
00000150                      450  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 140
00000150 AA02                 451  	movw ax, [de+0x02]
00000152 12                   452  	movw bc, ax
00000153 A9                   453  	movw ax, [de]
00000154 FE0000               454  	call $!_measureFlowSensor
00000157 B802                 455  	movw [sp+0x02], ax
00000159 BF0000               456  	movw !LOWW(_g_flow_value), ax
0000015C 13                   457  	movw ax, bc
0000015D B800                 458  	movw [sp+0x00], ax
0000015F BF0000               459  	movw !LOWW(_g_flow_value+0x00002), ax
00000162                      460  	;***      141 : 	if((g_flow_value < g_numberSetting.upperFlow)
00000162                      461  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 141
00000162 AF0000               462  	movw ax, !LOWW(_g_numberSetting+0x0001E)
00000165 B808                 463  	movw [sp+0x08], ax
00000167 C1                   464  	push ax
00000168 AF0000               465  	movw ax, !LOWW(_g_numberSetting+0x0001C)
0000016B B808                 466  	movw [sp+0x08], ax
0000016D C1                   467  	push ax
0000016E A804                 468  	movw ax, [sp+0x04]
00000170 12                   469  	movw bc, ax
00000171 A806                 470  	movw ax, [sp+0x06]
00000173 FC000000             471  	call !!__COM_funordered
00000177 9808                 472  	mov [sp+0x08], a
00000179 1004                 473  	addw sp, #0x04
0000017B A808                 474  	movw ax, [sp+0x08]
0000017D C1                   475  	push ax
0000017E A808                 476  	movw ax, [sp+0x08]
00000180 C1                   477  	push ax
00000181 A804                 478  	movw ax, [sp+0x04]
00000183 12                   479  	movw bc, ax
00000184 A806                 480  	movw ax, [sp+0x06]
00000186 FC000000             481  	call !!__COM_fle
0000018A 1004                 482  	addw sp, #0x04
0000018C 70                   483  	mov x, a
0000018D 8804                 484  	mov a, [sp+0x04]
0000018F D1                   485  	cmp0 a
00000190 E1                   486  	oneb a
00000191 61F8                 487  	sknz
00000193                      488  .BB@LABEL@5_1:	; entry
00000193 F1                   489  	clrb a
00000194                      490  .BB@LABEL@5_2:	; entry
00000194 D0                   491  	cmp0 x
00000195 E0                   492  	oneb x
00000196 61F8                 493  	sknz
00000198                      494  .BB@LABEL@5_3:	; entry
00000198 F0                   495  	clrb x
00000199                      496  .BB@LABEL@5_4:	; entry
00000199 6160                 497  	or x, a
0000019B DB0000               498  	movw bc, !LOWW(_g_numberSetting+0x0001A)
0000019E 13                   499  	movw ax, bc
0000019F B808                 500  	movw [sp+0x08], ax
000001A1 AF0000               501  	movw ax, !LOWW(_g_numberSetting+0x00018)
000001A4 B806                 502  	movw [sp+0x06], ax
000001A6 DF00                 503  	bnz $.BB@LABEL@5_12
000001A8                      504  .BB@LABEL@5_5:	; entry
000001A8 C3                   505  	push bc
000001A9 C1                   506  	push ax
000001AA A804                 507  	movw ax, [sp+0x04]
000001AC 12                   508  	movw bc, ax
000001AD A806                 509  	movw ax, [sp+0x06]
000001AF FC000000             510  	call !!__COM_funordered
000001B3 9808                 511  	mov [sp+0x08], a
000001B5 1004                 512  	addw sp, #0x04
000001B7 A808                 513  	movw ax, [sp+0x08]
000001B9 C1                   514  	push ax
000001BA A808                 515  	movw ax, [sp+0x08]
000001BC C1                   516  	push ax
000001BD A804                 517  	movw ax, [sp+0x04]
000001BF 12                   518  	movw bc, ax
000001C0 A806                 519  	movw ax, [sp+0x06]
000001C2 FC000000             520  	call !!__COM_fge
000001C6 1004                 521  	addw sp, #0x04
000001C8 70                   522  	mov x, a
000001C9 8804                 523  	mov a, [sp+0x04]
000001CB D1                   524  	cmp0 a
000001CC E1                   525  	oneb a
000001CD 61F8                 526  	sknz
000001CF                      527  .BB@LABEL@5_6:	; entry
000001CF F1                   528  	clrb a
000001D0                      529  .BB@LABEL@5_7:	; entry
000001D0 D0                   530  	cmp0 x
000001D1 E0                   531  	oneb x
000001D2 61F8                 532  	sknz
000001D4                      533  .BB@LABEL@5_8:	; entry
000001D4 F0                   534  	clrb x
000001D5                      535  .BB@LABEL@5_9:	; entry
000001D5 6160                 536  	or x, a
000001D7 DF00                 537  	bnz $.BB@LABEL@5_12
000001D9                      538  .BB@LABEL@5_10:	; bb17
000001D9                      539  	;***      142 : 			&(g_flow_value > g_numberSetting.lowerFlow)){
000001D9                      540  	;***      143 : 		return 1;
000001D9                      541  	;***      144 : 	}else{
000001D9                      542  	;***      145 : 		sendToRasPi(H_ALARM, FLOW_SENSOR_ERROR, 1);
000001D9                      543  	;***      146 : 		return 0;
000001D9                      544  	;***      147 : 	}
000001D9                      545  	;***      148 : }
000001D9                      546  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 148
000001D9 E1                   547  	oneb a
000001DA                      548  .BB@LABEL@5_11:	; bb17
000001DA 100A                 549  	addw sp, #0x0A
000001DC D7                   550  	ret
000001DD                      551  .BB@LABEL@5_12:	; if_else_bb
000001DD                      552  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 145
000001DD 34803F               553  	movw de, #0x3F80
000001E0 F7                   554  	clrw bc
000001E1 300141               555  	movw ax, #0x4101
000001E4 FE0000               556  	call $!_sendToRasPi
000001E7                      557  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 146
000001E7 F1                   558  	clrb a
000001E8 EF00                 559  	br $.BB@LABEL@5_11
000001EA                      560  _WaterSupplyOperation:
000001EA                      561  	.STACK _WaterSupplyOperation = 8
000001EA                      562  	;***      149 : /**
000001EA                      563  	;***      150 :  * WaterSupplyOperation
000001EA                      564  	;***      151 :  * 30/11/2021: Checked by An, need to test with Raspberry Pi Adjust alarm
000001EA                      565  	;***      152 :  */
000001EA                      566  	;***      153 : void WaterSupplyOperation(void){
000001EA                      567  	;***      154 : 	O_SPOUT_WATER_PIN = ON;		// SV2 On
000001EA                      568  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 154
000001EA 715205               569  	set1 0xFFF05.5
000001ED                      570  	;***      155 : 	delay(30);
000001ED                      571  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 155
000001ED 511E                 572  	mov a, #0x1E
000001EF FC000000             573  	call !!_delay
000001F3                      574  	;***      156 : 	O_SUPPLY_WATER_PIN = ON;	// SV1 On
000001F3                      575  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 156
000001F3 717201               576  	set1 0xFFF01.7
000001F6                      577  	;***      157 : 	delay_ms(500);
000001F6                      578  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 157
000001F6 F7                   579  	clrw bc
000001F7 30F401               580  	movw ax, #0x01F4
000001FA FC000000             581  	call !!_delay_ms
000001FE                      582  	;***      158 : 	O_SPOUT_WATER_PIN = OFF;	// SV2 Off
000001FE                      583  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 158
000001FE 715305               584  	clr1 0xFFF05.5
00000201                      585  .BB@LABEL@6_1:	; bb6
00000201                      586  	;***      159 : 	while(FlowSensorCheck(&g_timerSetting.t3_flowSensorMonitorTime) != 1){
00000201                      587  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 159
00000201 300000               588  	movw ax, #LOWW(_g_timerSetting+0x00004)
00000204 FE0000               589  	call $!_FlowSensorCheck
00000207 91                   590  	dec a
00000208 DD00                 591  	bz $.BB@LABEL@6_3
0000020A                      592  .BB@LABEL@6_2:	; bb
0000020A 307A44               593  	movw ax, #0x447A
0000020D                      594  	;***      160 : 		//TODO: RasPi - Adjust
0000020D                      595  	;***      161 : 		uint32_t _flow = g_flow_value*1000; // mL/minutes
0000020D                      596  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 161
0000020D C1                   597  	push ax
0000020E F6                   598  	clrw ax
0000020F C1                   599  	push ax
00000210 DB0000               600  	movw bc, !LOWW(_g_flow_value+0x00002)
00000213 AF0000               601  	movw ax, !LOWW(_g_flow_value)
00000216 FC000000             602  	call !!__COM_fmul
0000021A 1004                 603  	addw sp, #0x04
0000021C FC000000             604  	call !!__COM_ftoul
00000220                      605  	;***      162 : 		sendToRasPi(H_ALARM, FLOW_SENSOR_ERROR, _flow);
00000220                      606  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 162
00000220 FC000000             607  	call !!__COM_ultof
00000224 C3                   608  	push bc
00000225 C4                   609  	pop de
00000226 12                   610  	movw bc, ax
00000227 300141               611  	movw ax, #0x4101
0000022A FE0000               612  	call $!_sendToRasPi
0000022D EF00                 613  	br $.BB@LABEL@6_1
0000022F                      614  .BB@LABEL@6_3:	; bb11
0000022F                      615  	;***      163 : 	}
0000022F                      616  	;***      164 : 	delay(10);
0000022F                      617  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 164
0000022F 510A                 618  	mov a, #0x0A
00000231 EC000000             619  	br !!_delay
00000235                      620  _Voltage1Check:
00000235                      621  	.STACK _Voltage1Check = 12
00000235                      622  	;***      165 : }
00000235                      623  	;***      166 : /**
00000235                      624  	;***      167 :  * Alarm once when voltage fail. Stop until voltage valid.
00000235                      625  	;***      168 :  * 30/11/2021: Checked by An
00000235                      626  	;***      169 :  * @return 0 - OK; 1 - Error
00000235                      627  	;***      170 :  */
00000235                      628  	;***      171 : uint8_t Voltage1Check(void){
00000235                      629  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 171
00000235 2004                 630  	subw sp, #0x04
00000237                      631  	;***      172 : 	if(g_cvcc_voltge>=g_numberSetting.upperVoltage1){
00000237                      632  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 172
00000237 AF0000               633  	movw ax, !LOWW(_g_numberSetting+0x00002)
0000023A C1                   634  	push ax
0000023B AF0000               635  	movw ax, !LOWW(_g_numberSetting)
0000023E C1                   636  	push ax
0000023F DB0000               637  	movw bc, !LOWW(_g_cvcc_voltge+0x00002)
00000242 13                   638  	movw ax, bc
00000243 B804                 639  	movw [sp+0x04], ax
00000245 AF0000               640  	movw ax, !LOWW(_g_cvcc_voltge)
00000248 B806                 641  	movw [sp+0x06], ax
0000024A FC000000             642  	call !!__COM_fge
0000024E 1004                 643  	addw sp, #0x04
00000250 D1                   644  	cmp0 a
00000251 F1                   645  	clrb a
00000252 DD00                 646  	bz $.BB@LABEL@7_6
00000254                      647  .BB@LABEL@7_1:	; if_then_bb
00000254 307A44               648  	movw ax, #0x447A
00000257                      649  	;***      173 : 		sendToRasPi(H_ALARM, OVER_VOLTAGE_1, (uint32_t)(g_cvcc_voltge*1000));
00000257                      650  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 173
00000257 C1                   651  	push ax
00000258 F6                   652  	clrw ax
00000259 C1                   653  	push ax
0000025A A804                 654  	movw ax, [sp+0x04]
0000025C 12                   655  	movw bc, ax
0000025D A806                 656  	movw ax, [sp+0x06]
0000025F FC000000             657  	call !!__COM_fmul
00000263 1004                 658  	addw sp, #0x04
00000265 FC000000             659  	call !!__COM_ftoul
00000269 FC000000             660  	call !!__COM_ultof
0000026D C3                   661  	push bc
0000026E C4                   662  	pop de
0000026F 12                   663  	movw bc, ax
00000270 300241               664  	movw ax, #0x4102
00000273 FE0000               665  	call $!_sendToRasPi
00000276                      666  	;***      174 : 		electrolyticOperationOFF();
00000276                      667  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 174
00000276 FE0000               668  	call $!_electrolyticOperationOFF
00000279                      669  .BB@LABEL@7_2:	; bb9
00000279                      670  	;***      175 : 		//TODO: Wait to reset
00000279                      671  	;***      176 : 		while((g_rx_data[0] != H_CLEAR)&(g_rx_data[1] != OVER_VOLTAGE_1)){
00000279                      672  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 176
00000279 40000002             673  	cmp !LOWW(_g_rx_data+0x00001), #0x02
0000027D 8F0000               674  	mov a, !LOWW(_g_rx_data)
00000280 DD00                 675  	bz $.BB@LABEL@7_5
00000282                      676  .BB@LABEL@7_3:	; bb9
00000282 4C43                 677  	cmp a, #0x43
00000284 DD00                 678  	bz $.BB@LABEL@7_5
00000286                      679  .BB@LABEL@7_4:	; bb
00000286                      680  	;***      177 : 			R_WDT_Restart();
00000286                      681  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 177
00000286 FC000000             682  	call !!_R_WDT_Restart
0000028A EF00                 683  	br $.BB@LABEL@7_2
0000028C                      684  .BB@LABEL@7_5:	; bb9.bb25_crit_edge
0000028C E1                   685  	oneb a
0000028D                      686  .BB@LABEL@7_6:	; bb25
0000028D                      687  	;***      178 : 		}
0000028D                      688  	;***      179 : 		return 1;
0000028D                      689  	;***      180 : 	}
0000028D                      690  	;***      181 : 	return 0;
0000028D                      691  	;***      182 : }
0000028D                      692  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 182
0000028D 1004                 693  	addw sp, #0x04
0000028F D7                   694  	ret
00000290                      695  _Voltage2Check:
00000290                      696  	.STACK _Voltage2Check = 24
00000290                      697  	;***      183 : /**
00000290                      698  	;***      184 :  * Alarm every g_timerSetting.t12_overVoltage2Time second until voltage valid.
00000290                      699  	;***      185 :  * 30/11/2021: Checked by An
00000290                      700  	;***      186 :  * @return 0 - OK
00000290                      701  	;***      187 :  */
00000290                      702  	;***      188 : void Voltage2Check(void){
00000290                      703  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 188
00000290 2010                 704  	subw sp, #0x10
00000292 EE0000               705  	br $!.BB@LABEL@8_18
00000295                      706  .BB@LABEL@8_1:	; bb13
00000295                      707  	;***      189 : 	uint16_t _time_count = 0;
00000295                      708  	;***      190 : 	do{
00000295                      709  	;***      191 : 		_time_count = 0;
00000295                      710  	;***      192 : 		while((g_cvcc_voltge>=g_numberSetting.upperVoltage2)&(_time_count < g_timerSetting.t12_overVoltage2Time)){
00000295                      711  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 192
00000295 DB0000               712  	movw bc, !LOWW(_g_timerSetting+0x00012)
00000298 13                   713  	movw ax, bc
00000299 B80E                 714  	movw [sp+0x0E], ax
0000029B F6                   715  	clrw ax
0000029C 43                   716  	cmpw ax, bc
0000029D DB0000               717  	movw bc, !LOWW(_g_timerSetting+0x00010)
000002A0 13                   718  	movw ax, bc
000002A1 B804                 719  	movw [sp+0x04], ax
000002A3 A800                 720  	movw ax, [sp+0x00]
000002A5 61F8                 721  	sknz
000002A7                      722  .BB@LABEL@8_2:	; bb13
000002A7 43                   723  	cmpw ax, bc
000002A8                      724  .BB@LABEL@8_3:	; bb13
000002A8 FB0000               725  	movw hl, !LOWW(_g_numberSetting+0x00006)
000002AB 17                   726  	movw ax, hl
000002AC B806                 727  	movw [sp+0x06], ax
000002AE EB0000               728  	movw de, !LOWW(_g_numberSetting+0x00004)
000002B1 15                   729  	movw ax, de
000002B2 B808                 730  	movw [sp+0x08], ax
000002B4 DB0000               731  	movw bc, !LOWW(_g_cvcc_voltge+0x00002)
000002B7 13                   732  	movw ax, bc
000002B8 B80A                 733  	movw [sp+0x0A], ax
000002BA AF0000               734  	movw ax, !LOWW(_g_cvcc_voltge)
000002BD B80C                 735  	movw [sp+0x0C], ax
000002BF DE00                 736  	bnc $.BB@LABEL@8_15
000002C1                      737  .BB@LABEL@8_4:	; bb13
000002C1 C7                   738  	push hl
000002C2 C5                   739  	push de
000002C3 FC000000             740  	call !!__COM_funordered
000002C7 9806                 741  	mov [sp+0x06], a
000002C9 1004                 742  	addw sp, #0x04
000002CB A806                 743  	movw ax, [sp+0x06]
000002CD C1                   744  	push ax
000002CE A80A                 745  	movw ax, [sp+0x0A]
000002D0 C1                   746  	push ax
000002D1 A80E                 747  	movw ax, [sp+0x0E]
000002D3 12                   748  	movw bc, ax
000002D4 A810                 749  	movw ax, [sp+0x10]
000002D6 FC000000             750  	call !!__COM_flt
000002DA 1004                 751  	addw sp, #0x04
000002DC 70                   752  	mov x, a
000002DD 8802                 753  	mov a, [sp+0x02]
000002DF D1                   754  	cmp0 a
000002E0 E1                   755  	oneb a
000002E1 61F8                 756  	sknz
000002E3                      757  .BB@LABEL@8_5:	; bb13
000002E3 F1                   758  	clrb a
000002E4                      759  .BB@LABEL@8_6:	; bb13
000002E4 D0                   760  	cmp0 x
000002E5 E0                   761  	oneb x
000002E6 61F8                 762  	sknz
000002E8                      763  .BB@LABEL@8_7:	; bb13
000002E8 F0                   764  	clrb x
000002E9                      765  .BB@LABEL@8_8:	; bb13
000002E9 6160                 766  	or x, a
000002EB DF00                 767  	bnz $.BB@LABEL@8_15
000002ED                      768  .BB@LABEL@8_9:	; bb2
000002ED                      769  	;***      193 : 			delay_ms(1);
000002ED                      770  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 193
000002ED F7                   771  	clrw bc
000002EE E6                   772  	onew ax
000002EF FC000000             773  	call !!_delay_ms
000002F3 F6                   774  	clrw ax
000002F4                      775  	;***      194 : 			_time_count++;
000002F4                      776  	;***      195 : 			if(_time_count == g_timerSetting.t12_overVoltage2Time){
000002F4                      777  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 195
000002F4 420000               778  	cmpw ax, !LOWW(_g_timerSetting+0x00012)
000002F7 A800                 779  	movw ax, [sp+0x00]
000002F9                      780  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 194
000002F9 A1                   781  	incw ax
000002FA B800                 782  	movw [sp+0x00], ax
000002FC 61F8                 783  	sknz
000002FE                      784  .BB@LABEL@8_10:	; bb2
000002FE                      785  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 195
000002FE 420000               786  	cmpw ax, !LOWW(_g_timerSetting+0x00010)
00000301                      787  .BB@LABEL@8_11:	; bb2
00000301 DF00                 788  	bnz $.BB@LABEL@8_13
00000303                      789  .BB@LABEL@8_12:	; if_then_bb
00000303 307A44               790  	movw ax, #0x447A
00000306                      791  	;***      196 : 				sendToRasPi(H_ALARM, OVER_VOLTAGE_2, (uint32_t)(g_cvcc_voltge*1000));
00000306                      792  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 196
00000306 C1                   793  	push ax
00000307 F6                   794  	clrw ax
00000308 C1                   795  	push ax
00000309 DB0000               796  	movw bc, !LOWW(_g_cvcc_voltge+0x00002)
0000030C AF0000               797  	movw ax, !LOWW(_g_cvcc_voltge)
0000030F FC000000             798  	call !!__COM_fmul
00000313 1004                 799  	addw sp, #0x04
00000315 FC000000             800  	call !!__COM_ftoul
00000319 FC000000             801  	call !!__COM_ultof
0000031D C3                   802  	push bc
0000031E C4                   803  	pop de
0000031F 12                   804  	movw bc, ax
00000320 300341               805  	movw ax, #0x4103
00000323 FE0000               806  	call $!_sendToRasPi
00000326                      807  .BB@LABEL@8_13:	; if_break_bb
00000326                      808  	;***      197 : 			}
00000326                      809  	;***      198 : 			R_WDT_Restart();
00000326                      810  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 198
00000326 FC000000             811  	call !!_R_WDT_Restart
0000032A                      812  .BB@LABEL@8_14:	; if_break_bb
0000032A EE0000               813  	br $!.BB@LABEL@8_1
0000032D                      814  .BB@LABEL@8_15:	; bb27
0000032D A80E                 815  	movw ax, [sp+0x0E]
0000032F 12                   816  	movw bc, ax
00000330 F6                   817  	clrw ax
00000331                      818  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 190
00000331 43                   819  	cmpw ax, bc
00000332 A804                 820  	movw ax, [sp+0x04]
00000334 12                   821  	movw bc, ax
00000335 A800                 822  	movw ax, [sp+0x00]
00000337 61F8                 823  	sknz
00000339                      824  .BB@LABEL@8_16:	; bb27
00000339 43                   825  	cmpw ax, bc
0000033A                      826  .BB@LABEL@8_17:	; bb27
0000033A DF00                 827  	bnz $.BB@LABEL@8_19
0000033C                      828  .BB@LABEL@8_18:	; bb27.bb13_crit_edge
0000033C F6                   829  	clrw ax
0000033D B800                 830  	movw [sp+0x00], ax
0000033F EF00                 831  	br $.BB@LABEL@8_14
00000341                      832  .BB@LABEL@8_19:	; return
00000341                      833  	;***      199 : 		}
00000341                      834  	;***      200 : 	}while(_time_count == g_timerSetting.t12_overVoltage2Time);
00000341                      835  	;***      201 : }
00000341                      836  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 201
00000341 1010                 837  	addw sp, #0x10
00000343 D7                   838  	ret
00000344                      839  _Voltage3Check:
00000344                      840  	.STACK _Voltage3Check = 24
00000344                      841  	;***      202 : /**
00000344                      842  	;***      203 :  * Alarm after g_timerSetting.t13_overVoltage3Time second. Turn OFF electrolytic and stop until valid.
00000344                      843  	;***      204 :  * 30/11/2021: Checked by An
00000344                      844  	;***      205 :  * @return 0 - OK; 1 - Error
00000344                      845  	;***      206 :  */
00000344                      846  	;***      207 : uint8_t Voltage3Check(void){
00000344                      847  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 207
00000344 2010                 848  	subw sp, #0x10
00000346 F6                   849  	clrw ax
00000347                      850  .BB@LABEL@9_1:	; entry
00000347 B800                 851  	movw [sp+0x00], ax
00000349                      852  	;***      208 : 	uint16_t _time_count = 0;
00000349                      853  	;***      209 : 	while((g_cvcc_voltge>=g_numberSetting.upperVoltage3)&(_time_count < g_timerSetting.t13_overVoltage3Time)){
00000349                      854  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 209
00000349 DB0000               855  	movw bc, !LOWW(_g_timerSetting+0x00016)
0000034C 13                   856  	movw ax, bc
0000034D B80C                 857  	movw [sp+0x0C], ax
0000034F F6                   858  	clrw ax
00000350 43                   859  	cmpw ax, bc
00000351 DB0000               860  	movw bc, !LOWW(_g_timerSetting+0x00014)
00000354 13                   861  	movw ax, bc
00000355 B80E                 862  	movw [sp+0x0E], ax
00000357 A800                 863  	movw ax, [sp+0x00]
00000359 61F8                 864  	sknz
0000035B                      865  .BB@LABEL@9_2:	; bb4
0000035B 43                   866  	cmpw ax, bc
0000035C                      867  .BB@LABEL@9_3:	; bb4
0000035C DB0000               868  	movw bc, !LOWW(_g_numberSetting+0x0000A)
0000035F 13                   869  	movw ax, bc
00000360 B80A                 870  	movw [sp+0x0A], ax
00000362 AF0000               871  	movw ax, !LOWW(_g_numberSetting+0x00008)
00000365 B808                 872  	movw [sp+0x08], ax
00000367 AF0000               873  	movw ax, !LOWW(_g_cvcc_voltge+0x00002)
0000036A B804                 874  	movw [sp+0x04], ax
0000036C AF0000               875  	movw ax, !LOWW(_g_cvcc_voltge)
0000036F B806                 876  	movw [sp+0x06], ax
00000371 DE00                 877  	bnc $.BB@LABEL@9_10
00000373                      878  .BB@LABEL@9_4:	; bb4
00000373 C3                   879  	push bc
00000374 A80A                 880  	movw ax, [sp+0x0A]
00000376 C1                   881  	push ax
00000377 A808                 882  	movw ax, [sp+0x08]
00000379 12                   883  	movw bc, ax
0000037A A80A                 884  	movw ax, [sp+0x0A]
0000037C FC000000             885  	call !!__COM_funordered
00000380 9806                 886  	mov [sp+0x06], a
00000382 1004                 887  	addw sp, #0x04
00000384 A80A                 888  	movw ax, [sp+0x0A]
00000386 C1                   889  	push ax
00000387 A80A                 890  	movw ax, [sp+0x0A]
00000389 C1                   891  	push ax
0000038A A808                 892  	movw ax, [sp+0x08]
0000038C 12                   893  	movw bc, ax
0000038D A80A                 894  	movw ax, [sp+0x0A]
0000038F FC000000             895  	call !!__COM_flt
00000393 1004                 896  	addw sp, #0x04
00000395 70                   897  	mov x, a
00000396 8802                 898  	mov a, [sp+0x02]
00000398 D1                   899  	cmp0 a
00000399 E1                   900  	oneb a
0000039A 61F8                 901  	sknz
0000039C                      902  .BB@LABEL@9_5:	; bb4
0000039C F1                   903  	clrb a
0000039D                      904  .BB@LABEL@9_6:	; bb4
0000039D D0                   905  	cmp0 x
0000039E E0                   906  	oneb x
0000039F 61F8                 907  	sknz
000003A1                      908  .BB@LABEL@9_7:	; bb4
000003A1 F0                   909  	clrb x
000003A2                      910  .BB@LABEL@9_8:	; bb4
000003A2 6160                 911  	or x, a
000003A4 DF00                 912  	bnz $.BB@LABEL@9_10
000003A6                      913  .BB@LABEL@9_9:	; bb
000003A6                      914  	;***      210 : 		delay_ms(1);
000003A6                      915  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 210
000003A6 F7                   916  	clrw bc
000003A7 E6                   917  	onew ax
000003A8 FC000000             918  	call !!_delay_ms
000003AC                      919  	;***      211 : 		_time_count++;
000003AC                      920  	;***      212 : 		R_WDT_Restart();
000003AC                      921  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 212
000003AC FC000000             922  	call !!_R_WDT_Restart
000003B0 A800                 923  	movw ax, [sp+0x00]
000003B2 A1                   924  	incw ax
000003B3 EF00                 925  	br $.BB@LABEL@9_1
000003B5                      926  .BB@LABEL@9_10:	; bb17
000003B5 A80C                 927  	movw ax, [sp+0x0C]
000003B7 12                   928  	movw bc, ax
000003B8 F6                   929  	clrw ax
000003B9                      930  	;***      213 : 	}
000003B9                      931  	;***      214 : 	if(_time_count == g_timerSetting.t13_overVoltage3Time){
000003B9                      932  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 214
000003B9 43                   933  	cmpw ax, bc
000003BA A80E                 934  	movw ax, [sp+0x0E]
000003BC 12                   935  	movw bc, ax
000003BD A800                 936  	movw ax, [sp+0x00]
000003BF 61F8                 937  	sknz
000003C1                      938  .BB@LABEL@9_11:	; bb17
000003C1 43                   939  	cmpw ax, bc
000003C2                      940  .BB@LABEL@9_12:	; bb17
000003C2 F1                   941  	clrb a
000003C3 DF00                 942  	bnz $.BB@LABEL@9_18
000003C5                      943  .BB@LABEL@9_13:	; if_then_bb
000003C5 307A44               944  	movw ax, #0x447A
000003C8                      945  	;***      215 : 		sendToRasPi(H_ALARM, OVER_VOLTAGE_3, (uint32_t)(g_cvcc_voltge*1000));
000003C8                      946  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 215
000003C8 C1                   947  	push ax
000003C9 F6                   948  	clrw ax
000003CA C1                   949  	push ax
000003CB A808                 950  	movw ax, [sp+0x08]
000003CD 12                   951  	movw bc, ax
000003CE A80A                 952  	movw ax, [sp+0x0A]
000003D0 FC000000             953  	call !!__COM_fmul
000003D4 1004                 954  	addw sp, #0x04
000003D6 FC000000             955  	call !!__COM_ftoul
000003DA FC000000             956  	call !!__COM_ultof
000003DE C3                   957  	push bc
000003DF C4                   958  	pop de
000003E0 12                   959  	movw bc, ax
000003E1 300441               960  	movw ax, #0x4104
000003E4 FE0000               961  	call $!_sendToRasPi
000003E7                      962  	;***      216 : 		electrolyticOperationOFF();
000003E7                      963  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 216
000003E7 FE0000               964  	call $!_electrolyticOperationOFF
000003EA                      965  .BB@LABEL@9_14:	; bb29
000003EA                      966  	;***      217 : 		//TODO: Wait to reset
000003EA                      967  	;***      218 : 		while((g_rx_data[0] != H_CLEAR)&(g_rx_data[1] != OVER_VOLTAGE_3)){
000003EA                      968  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 218
000003EA 40000004             969  	cmp !LOWW(_g_rx_data+0x00001), #0x04
000003EE 8F0000               970  	mov a, !LOWW(_g_rx_data)
000003F1 DD00                 971  	bz $.BB@LABEL@9_17
000003F3                      972  .BB@LABEL@9_15:	; bb29
000003F3 4C43                 973  	cmp a, #0x43
000003F5 DD00                 974  	bz $.BB@LABEL@9_17
000003F7                      975  .BB@LABEL@9_16:	; bb28
000003F7                      976  	;***      219 : 			R_WDT_Restart();
000003F7                      977  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 219
000003F7 FC000000             978  	call !!_R_WDT_Restart
000003FB EF00                 979  	br $.BB@LABEL@9_14
000003FD                      980  .BB@LABEL@9_17:	; bb29.bb45_crit_edge
000003FD E1                   981  	oneb a
000003FE                      982  .BB@LABEL@9_18:	; bb45
000003FE                      983  	;***      220 : 		}
000003FE                      984  	;***      221 : 		return 1;
000003FE                      985  	;***      222 : 	}
000003FE                      986  	;***      223 : 	return 0;
000003FE                      987  	;***      224 : }
000003FE                      988  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 224
000003FE 1010                 989  	addw sp, #0x10
00000400 D7                   990  	ret
00000401                      991  _LowVoltageCheck:
00000401                      992  	.STACK _LowVoltageCheck = 24
00000401                      993  	;***      225 : uint8_t LowVoltageCheck(void){
00000401                      994  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 225
00000401 2010                 995  	subw sp, #0x10
00000403                      996  	;***      226 : 	uint16_t _time_count = 0;
00000403                      997  	;***      227 : 	electrolyticOperationON();
00000403                      998  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 227
00000403 FE0000               999  	call $!_electrolyticOperationON
00000406                     1000  .BB@LABEL@10_1:	; bb2
00000406                     1001  	;***      228 : 	while((g_systemTime - g_neutralization_time < g_timerSetting.t14_lowVoltageStartTime)){
00000406                     1002  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 228
00000406 DB0000              1003  	movw bc, !LOWW(_g_systemTime+0x00002)
00000409 AF0000              1004  	movw ax, !LOWW(_g_systemTime)
0000040C 220000              1005  	subw ax, !LOWW(_g_neutralization_time)
0000040F 14                  1006  	movw de, ax
00000410 13                  1007  	movw ax, bc
00000411 61D8                1008  	sknc
00000413                     1009  .BB@LABEL@10_2:	; bb2
00000413 B1                  1010  	decw ax
00000414                     1011  .BB@LABEL@10_3:	; bb2
00000414 220000              1012  	subw ax, !LOWW(_g_neutralization_time+0x00002)
00000417 420000              1013  	cmpw ax, !LOWW(_g_timerSetting+0x0001A)
0000041A 15                  1014  	movw ax, de
0000041B 61F8                1015  	sknz
0000041D                     1016  .BB@LABEL@10_4:	; bb2
0000041D 420000              1017  	cmpw ax, !LOWW(_g_timerSetting+0x00018)
00000420                     1018  .BB@LABEL@10_5:	; bb2
00000420 DC00                1019  	bc $.BB@LABEL@10_16
00000422                     1020  .BB@LABEL@10_6:	; bb2.bb13_crit_edge
00000422 F6                  1021  	clrw ax
00000423                     1022  .BB@LABEL@10_7:	; bb2.bb13_crit_edge
00000423 B800                1023  	movw [sp+0x00], ax
00000425                     1024  	;***      229 : 		R_WDT_Restart();
00000425                     1025  	;***      230 : 	}
00000425                     1026  	;***      231 : 	while((g_cvcc_voltge <= g_numberSetting.lowerVoltage)&(_time_count < g_timerSetting.t15_lowVoltageDelayTime)){
00000425                     1027  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 231
00000425 DB0000              1028  	movw bc, !LOWW(_g_timerSetting+0x0001E)
00000428 13                  1029  	movw ax, bc
00000429 B80C                1030  	movw [sp+0x0C], ax
0000042B F6                  1031  	clrw ax
0000042C 43                  1032  	cmpw ax, bc
0000042D DB0000              1033  	movw bc, !LOWW(_g_timerSetting+0x0001C)
00000430 13                  1034  	movw ax, bc
00000431 B80E                1035  	movw [sp+0x0E], ax
00000433 A800                1036  	movw ax, [sp+0x00]
00000435 61F8                1037  	sknz
00000437                     1038  .BB@LABEL@10_8:	; bb13
00000437 43                  1039  	cmpw ax, bc
00000438                     1040  .BB@LABEL@10_9:	; bb13
00000438 DB0000              1041  	movw bc, !LOWW(_g_numberSetting+0x0000E)
0000043B 13                  1042  	movw ax, bc
0000043C B80A                1043  	movw [sp+0x0A], ax
0000043E AF0000              1044  	movw ax, !LOWW(_g_numberSetting+0x0000C)
00000441 B808                1045  	movw [sp+0x08], ax
00000443 AF0000              1046  	movw ax, !LOWW(_g_cvcc_voltge+0x00002)
00000446 B804                1047  	movw [sp+0x04], ax
00000448 AF0000              1048  	movw ax, !LOWW(_g_cvcc_voltge)
0000044B B806                1049  	movw [sp+0x06], ax
0000044D DE00                1050  	bnc $.BB@LABEL@10_17
0000044F                     1051  .BB@LABEL@10_10:	; bb13
0000044F C3                  1052  	push bc
00000450 A80A                1053  	movw ax, [sp+0x0A]
00000452 C1                  1054  	push ax
00000453 A808                1055  	movw ax, [sp+0x08]
00000455 12                  1056  	movw bc, ax
00000456 A80A                1057  	movw ax, [sp+0x0A]
00000458 FC000000            1058  	call !!__COM_funordered
0000045C 9806                1059  	mov [sp+0x06], a
0000045E 1004                1060  	addw sp, #0x04
00000460 A80A                1061  	movw ax, [sp+0x0A]
00000462 C1                  1062  	push ax
00000463 A80A                1063  	movw ax, [sp+0x0A]
00000465 C1                  1064  	push ax
00000466 A808                1065  	movw ax, [sp+0x08]
00000468 12                  1066  	movw bc, ax
00000469 A80A                1067  	movw ax, [sp+0x0A]
0000046B FC000000            1068  	call !!__COM_fgt
0000046F 1004                1069  	addw sp, #0x04
00000471 70                  1070  	mov x, a
00000472 8802                1071  	mov a, [sp+0x02]
00000474 D1                  1072  	cmp0 a
00000475 E1                  1073  	oneb a
00000476 61F8                1074  	sknz
00000478                     1075  .BB@LABEL@10_11:	; bb13
00000478 F1                  1076  	clrb a
00000479                     1077  .BB@LABEL@10_12:	; bb13
00000479 D0                  1078  	cmp0 x
0000047A E0                  1079  	oneb x
0000047B 61F8                1080  	sknz
0000047D                     1081  .BB@LABEL@10_13:	; bb13
0000047D F0                  1082  	clrb x
0000047E                     1083  .BB@LABEL@10_14:	; bb13
0000047E 6160                1084  	or x, a
00000480 DF00                1085  	bnz $.BB@LABEL@10_17
00000482                     1086  .BB@LABEL@10_15:	; bb10
00000482                     1087  	;***      232 : 		delay_ms(1);
00000482                     1088  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 232
00000482 F7                  1089  	clrw bc
00000483 E6                  1090  	onew ax
00000484 FC000000            1091  	call !!_delay_ms
00000488                     1092  	;***      233 : 		_time_count++;
00000488                     1093  	;***      234 : 		R_WDT_Restart();
00000488                     1094  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 234
00000488 FC000000            1095  	call !!_R_WDT_Restart
0000048C A800                1096  	movw ax, [sp+0x00]
0000048E A1                  1097  	incw ax
0000048F EF00                1098  	br $.BB@LABEL@10_7
00000491                     1099  .BB@LABEL@10_16:	; bb
00000491                     1100  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 229
00000491 FC000000            1101  	call !!_R_WDT_Restart
00000495 EE0000              1102  	br $!.BB@LABEL@10_1
00000498                     1103  .BB@LABEL@10_17:	; bb27
00000498 A80C                1104  	movw ax, [sp+0x0C]
0000049A 12                  1105  	movw bc, ax
0000049B F6                  1106  	clrw ax
0000049C                     1107  	;***      235 : 	}
0000049C                     1108  	;***      236 : 	if(_time_count == g_timerSetting.t15_lowVoltageDelayTime){
0000049C                     1109  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 236
0000049C 43                  1110  	cmpw ax, bc
0000049D A80E                1111  	movw ax, [sp+0x0E]
0000049F 12                  1112  	movw bc, ax
000004A0 A800                1113  	movw ax, [sp+0x00]
000004A2 61F8                1114  	sknz
000004A4                     1115  .BB@LABEL@10_18:	; bb27
000004A4 43                  1116  	cmpw ax, bc
000004A5                     1117  .BB@LABEL@10_19:	; bb27
000004A5 F1                  1118  	clrb a
000004A6 DF00                1119  	bnz $.BB@LABEL@10_25
000004A8                     1120  .BB@LABEL@10_20:	; if_then_bb
000004A8 307A44              1121  	movw ax, #0x447A
000004AB                     1122  	;***      237 : 		sendToRasPi(H_ALARM, UNDER_VOLTAGE, (uint32_t)(g_cvcc_voltge*1000));
000004AB                     1123  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 237
000004AB C1                  1124  	push ax
000004AC F6                  1125  	clrw ax
000004AD C1                  1126  	push ax
000004AE A808                1127  	movw ax, [sp+0x08]
000004B0 12                  1128  	movw bc, ax
000004B1 A80A                1129  	movw ax, [sp+0x0A]
000004B3 FC000000            1130  	call !!__COM_fmul
000004B7 1004                1131  	addw sp, #0x04
000004B9 FC000000            1132  	call !!__COM_ftoul
000004BD FC000000            1133  	call !!__COM_ultof
000004C1 C3                  1134  	push bc
000004C2 C4                  1135  	pop de
000004C3 12                  1136  	movw bc, ax
000004C4 300541              1137  	movw ax, #0x4105
000004C7 FE0000              1138  	call $!_sendToRasPi
000004CA                     1139  	;***      238 : 		electrolyticOperationOFF();
000004CA                     1140  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 238
000004CA FE0000              1141  	call $!_electrolyticOperationOFF
000004CD                     1142  .BB@LABEL@10_21:	; bb39
000004CD                     1143  	;***      239 : 		//TODO: Wait to reset
000004CD                     1144  	;***      240 : 		while((g_rx_data[0] != H_CLEAR)&(g_rx_data[1] != UNDER_VOLTAGE)){
000004CD                     1145  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 240
000004CD 40000005            1146  	cmp !LOWW(_g_rx_data+0x00001), #0x05
000004D1 8F0000              1147  	mov a, !LOWW(_g_rx_data)
000004D4 DD00                1148  	bz $.BB@LABEL@10_24
000004D6                     1149  .BB@LABEL@10_22:	; bb39
000004D6 4C43                1150  	cmp a, #0x43
000004D8 DD00                1151  	bz $.BB@LABEL@10_24
000004DA                     1152  .BB@LABEL@10_23:	; bb38
000004DA                     1153  	;***      241 : 			R_WDT_Restart();
000004DA                     1154  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 241
000004DA FC000000            1155  	call !!_R_WDT_Restart
000004DE EF00                1156  	br $.BB@LABEL@10_21
000004E0                     1157  .BB@LABEL@10_24:	; bb39.bb55_crit_edge
000004E0 E1                  1158  	oneb a
000004E1                     1159  .BB@LABEL@10_25:	; bb55
000004E1                     1160  	;***      242 : 		}
000004E1                     1161  	;***      243 : 		return 1;
000004E1                     1162  	;***      244 : 	}
000004E1                     1163  	;***      245 : 	return 0;
000004E1                     1164  	;***      246 : }
000004E1                     1165  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 246
000004E1 1010                1166  	addw sp, #0x10
000004E3 D7                  1167  	ret
000004E4                     1168  _OverCurrentCheck:
000004E4                     1169  	.STACK _OverCurrentCheck = 20
000004E4                     1170  	;***      247 : uint8_t OverCurrentCheck(void){
000004E4                     1171  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 247
000004E4 200C                1172  	subw sp, #0x0C
000004E6                     1173  	;***      248 : 	uint16_t _time_count = 0;
000004E6                     1174  	;***      249 : 	const uint16_t _max_time = 5000;
000004E6                     1175  	;***      250 : 	if((g_cvcc_current<=g_numberSetting.lowerCurrent)|(g_cvcc_current>=g_numberSetting.upperCurrent)){
000004E6                     1176  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 250
000004E6 AF0000              1177  	movw ax, !LOWW(_g_numberSetting+0x00012)
000004E9 C1                  1178  	push ax
000004EA AF0000              1179  	movw ax, !LOWW(_g_numberSetting+0x00010)
000004ED C1                  1180  	push ax
000004EE DB0000              1181  	movw bc, !LOWW(_g_cvcc_current+0x00002)
000004F1 13                  1182  	movw ax, bc
000004F2 B806                1183  	movw [sp+0x06], ax
000004F4 AF0000              1184  	movw ax, !LOWW(_g_cvcc_current)
000004F7 B808                1185  	movw [sp+0x08], ax
000004F9 FC000000            1186  	call !!__COM_fge
000004FD 1004                1187  	addw sp, #0x04
000004FF D1                  1188  	cmp0 a
00000500 DB0000              1189  	movw bc, !LOWW(_g_numberSetting+0x00016)
00000503 AF0000              1190  	movw ax, !LOWW(_g_numberSetting+0x00014)
00000506 DF00                1191  	bnz $.BB@LABEL@11_3
00000508                     1192  .BB@LABEL@11_1:	; entry
00000508 C3                  1193  	push bc
00000509 C1                  1194  	push ax
0000050A A806                1195  	movw ax, [sp+0x06]
0000050C 12                  1196  	movw bc, ax
0000050D A808                1197  	movw ax, [sp+0x08]
0000050F FC000000            1198  	call !!__COM_fle
00000513 1004                1199  	addw sp, #0x04
00000515 D1                  1200  	cmp0 a
00000516 DF00                1201  	bnz $.BB@LABEL@11_3
00000518                     1202  .BB@LABEL@11_2:	; entry.bb62_crit_edge
00000518 F1                  1203  	clrb a
00000519 EE0000              1204  	br $!.BB@LABEL@11_17
0000051C                     1205  .BB@LABEL@11_3:	; if_then_bb
0000051C 307A44              1206  	movw ax, #0x447A
0000051F                     1207  	;***      251 : 		sendToRasPi(H_ALARM, CURRENT_ABNORMAL, (uint32_t)(g_cvcc_current*1000));
0000051F                     1208  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 251
0000051F C1                  1209  	push ax
00000520 F6                  1210  	clrw ax
00000521 B802                1211  	movw [sp+0x02], ax
00000523 C1                  1212  	push ax
00000524 A806                1213  	movw ax, [sp+0x06]
00000526 12                  1214  	movw bc, ax
00000527 A808                1215  	movw ax, [sp+0x08]
00000529 FC000000            1216  	call !!__COM_fmul
0000052D 1004                1217  	addw sp, #0x04
0000052F FC000000            1218  	call !!__COM_ftoul
00000533 FC000000            1219  	call !!__COM_ultof
00000537 C3                  1220  	push bc
00000538 C4                  1221  	pop de
00000539 12                  1222  	movw bc, ax
0000053A 300641              1223  	movw ax, #0x4106
0000053D FE0000              1224  	call $!_sendToRasPi
00000540                     1225  .BB@LABEL@11_4:	; bb20
00000540                     1226  	;***      252 : 		while((g_cvcc_current >= g_numberSetting.upperCurrent)&(_time_count < _max_time)){
00000540                     1227  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 252
00000540 AF0000              1228  	movw ax, !LOWW(_g_numberSetting+0x00012)
00000543 B80A                1229  	movw [sp+0x0A], ax
00000545 C1                  1230  	push ax
00000546 AF0000              1231  	movw ax, !LOWW(_g_numberSetting+0x00010)
00000549 B80A                1232  	movw [sp+0x0A], ax
0000054B C1                  1233  	push ax
0000054C DB0000              1234  	movw bc, !LOWW(_g_cvcc_current+0x00002)
0000054F 13                  1235  	movw ax, bc
00000550 B808                1236  	movw [sp+0x08], ax
00000552 AF0000              1237  	movw ax, !LOWW(_g_cvcc_current)
00000555 B80A                1238  	movw [sp+0x0A], ax
00000557 FC000000            1239  	call !!__COM_funordered
0000055B 9806                1240  	mov [sp+0x06], a
0000055D 1004                1241  	addw sp, #0x04
0000055F A80A                1242  	movw ax, [sp+0x0A]
00000561 C1                  1243  	push ax
00000562 A80A                1244  	movw ax, [sp+0x0A]
00000564 C1                  1245  	push ax
00000565 A808                1246  	movw ax, [sp+0x08]
00000567 12                  1247  	movw bc, ax
00000568 A80A                1248  	movw ax, [sp+0x0A]
0000056A FC000000            1249  	call !!__COM_flt
0000056E 1004                1250  	addw sp, #0x04
00000570 70                  1251  	mov x, a
00000571 8802                1252  	mov a, [sp+0x02]
00000573 D1                  1253  	cmp0 a
00000574 E1                  1254  	oneb a
00000575 61F8                1255  	sknz
00000577                     1256  .BB@LABEL@11_5:	; bb20
00000577 F1                  1257  	clrb a
00000578                     1258  .BB@LABEL@11_6:	; bb20
00000578 D0                  1259  	cmp0 x
00000579 E0                  1260  	oneb x
0000057A 61F8                1261  	sknz
0000057C                     1262  .BB@LABEL@11_7:	; bb20
0000057C F0                  1263  	clrb x
0000057D                     1264  .BB@LABEL@11_8:	; bb20
0000057D 6160                1265  	or x, a
0000057F DF00                1266  	bnz $.BB@LABEL@11_11
00000581                     1267  .BB@LABEL@11_9:	; bb20
00000581 A800                1268  	movw ax, [sp+0x00]
00000583 448813              1269  	cmpw ax, #0x1388
00000586 DE00                1270  	bnc $.BB@LABEL@11_11
00000588                     1271  .BB@LABEL@11_10:	; bb
00000588                     1272  	;***      253 : 			delay_ms(1);
00000588                     1273  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 253
00000588 F7                  1274  	clrw bc
00000589 E6                  1275  	onew ax
0000058A FC000000            1276  	call !!_delay_ms
0000058E                     1277  	;***      254 : 			_time_count++;
0000058E                     1278  	;***      255 : 			R_WDT_Restart();
0000058E                     1279  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 255
0000058E FC000000            1280  	call !!_R_WDT_Restart
00000592 A800                1281  	movw ax, [sp+0x00]
00000594 A1                  1282  	incw ax
00000595 B800                1283  	movw [sp+0x00], ax
00000597 EF00                1284  	br $.BB@LABEL@11_4
00000599                     1285  .BB@LABEL@11_11:	; bb33
00000599 A800                1286  	movw ax, [sp+0x00]
0000059B                     1287  	;***      256 : //			electrolyticOperationOFF();
0000059B                     1288  	;***      257 : 		}
0000059B                     1289  	;***      258 : 		if(_time_count >= _max_time){
0000059B                     1290  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 258
0000059B 448813              1291  	cmpw ax, #0x1388
0000059E                     1292  	.bc $!.BB@LABEL@11_2
0000059E 61D8                    	 -- Skncond
000005A0 EE0000                  	 -- br	**.target1
000005A3                     1293  .BB@LABEL@11_12:	; if_then_bb39
000005A3 307A44              1294  	movw ax, #0x447A
000005A6                     1295  	;***      259 : 			sendToRasPi(H_ALARM, OVER_CURRENT, (uint32_t)(g_cvcc_current*1000));
000005A6                     1296  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 259
000005A6 C1                  1297  	push ax
000005A7 F6                  1298  	clrw ax
000005A8 C1                  1299  	push ax
000005A9 A808                1300  	movw ax, [sp+0x08]
000005AB 12                  1301  	movw bc, ax
000005AC A80A                1302  	movw ax, [sp+0x0A]
000005AE FC000000            1303  	call !!__COM_fmul
000005B2 1004                1304  	addw sp, #0x04
000005B4 FC000000            1305  	call !!__COM_ftoul
000005B8 FC000000            1306  	call !!__COM_ultof
000005BC C3                  1307  	push bc
000005BD C4                  1308  	pop de
000005BE 12                  1309  	movw bc, ax
000005BF 300741              1310  	movw ax, #0x4107
000005C2 FE0000              1311  	call $!_sendToRasPi
000005C5                     1312  	;***      260 : 			electrolyticOperationOFF();
000005C5                     1313  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 260
000005C5 FE0000              1314  	call $!_electrolyticOperationOFF
000005C8                     1315  .BB@LABEL@11_13:	; bb45
000005C8                     1316  	;***      261 : 			//TODO: Wait to reset
000005C8                     1317  	;***      262 : 			while((g_rx_data[0] != H_CLEAR)&(g_rx_data[1] != OVER_CURRENT)){
000005C8                     1318  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 262
000005C8 40000007            1319  	cmp !LOWW(_g_rx_data+0x00001), #0x07
000005CC 8F0000              1320  	mov a, !LOWW(_g_rx_data)
000005CF DD00                1321  	bz $.BB@LABEL@11_16
000005D1                     1322  .BB@LABEL@11_14:	; bb45
000005D1 4C43                1323  	cmp a, #0x43
000005D3 DD00                1324  	bz $.BB@LABEL@11_16
000005D5                     1325  .BB@LABEL@11_15:	; bb44
000005D5                     1326  	;***      263 : 				R_WDT_Restart();
000005D5                     1327  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 263
000005D5 FC000000            1328  	call !!_R_WDT_Restart
000005D9 EF00                1329  	br $.BB@LABEL@11_13
000005DB                     1330  .BB@LABEL@11_16:	; bb45.bb62_crit_edge
000005DB E1                  1331  	oneb a
000005DC                     1332  .BB@LABEL@11_17:	; bb62
000005DC                     1333  	;***      264 : 			}
000005DC                     1334  	;***      265 : 			return 1;
000005DC                     1335  	;***      266 : 		}
000005DC                     1336  	;***      267 : 	}
000005DC                     1337  	;***      268 : 	return 0;
000005DC                     1338  	;***      269 : }
000005DC                     1339  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 269
000005DC 100C                1340  	addw sp, #0x0C
000005DE D7                  1341  	ret
000005DF                     1342  _ElectrolyticOperation:
000005DF                     1343  	.STACK _ElectrolyticOperation = 4
000005DF                     1344  .BB@LABEL@12_1:	; WAIT_RESET
000005DF                     1345  	;***      270 : void ElectrolyticOperation(void){
000005DF                     1346  	;***      271 : 	WAIT_RESET:
000005DF                     1347  	;***      272 : 	electrolyticOperationON();
000005DF                     1348  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 272
000005DF FE0000              1349  	call $!_electrolyticOperationON
000005E2                     1350  .BB@LABEL@12_2:	; bb
000005E2                     1351  	;***      273 : 	do{
000005E2                     1352  	;***      274 : 		if(Voltage1Check()) goto WAIT_RESET;
000005E2                     1353  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 274
000005E2 FE0000              1354  	call $!_Voltage1Check
000005E5 D1                  1355  	cmp0 a
000005E6 DF00                1356  	bnz $.BB@LABEL@12_1
000005E8                     1357  .BB@LABEL@12_3:	; if_break_bb
000005E8                     1358  	;***      275 : 		Voltage2Check();
000005E8                     1359  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 275
000005E8 FE0000              1360  	call $!_Voltage2Check
000005EB                     1361  	;***      276 : 		if(Voltage3Check()) goto WAIT_RESET;
000005EB                     1362  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 276
000005EB FE0000              1363  	call $!_Voltage3Check
000005EE D1                  1364  	cmp0 a
000005EF DF00                1365  	bnz $.BB@LABEL@12_1
000005F1                     1366  .BB@LABEL@12_4:	; if_break_bb12
000005F1                     1367  	;***      277 : 		if(LowVoltageCheck()) goto WAIT_RESET;
000005F1                     1368  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 277
000005F1 FE0000              1369  	call $!_LowVoltageCheck
000005F4 D1                  1370  	cmp0 a
000005F5 DF00                1371  	bnz $.BB@LABEL@12_1
000005F7                     1372  .BB@LABEL@12_5:	; if_break_bb20
000005F7                     1373  	;***      278 : 		if(OverCurrentCheck()) goto WAIT_RESET;
000005F7                     1374  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 278
000005F7 FE0000              1375  	call $!_OverCurrentCheck
000005FA D1                  1376  	cmp0 a
000005FB DF00                1377  	bnz $.BB@LABEL@12_1
000005FD                     1378  .BB@LABEL@12_6:	; if_break_bb28
000005FD                     1379  	;***      279 : 		//----------CVCC Alarm Input-----------------
000005FD                     1380  	;***      280 : 		if(I_CVCC_ALARM_IN == 0U){
000005FD                     1381  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 280
000005FD 8D00                1382  	mov a, 0xFFF00
000005FF 314500              1383  	bf a.4, $.BB@LABEL@12_9
00000602                     1384  .BB@LABEL@12_7:	; if_break_bb53
00000602                     1385  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 273
00000602 E807                1386  	mov b, 0xFFF07
00000604 E1                  1387  	oneb a
00000605 5B07                1388  	and a, 0xFFF07
00000607 7C01                1389  	xor a, #0x01
00000609 70                  1390  	mov x, a
0000060A 63                  1391  	mov a, b
0000060B 313A                1392  	shr a, 0x03
0000060D 5C01                1393  	and a, #0x01
0000060F 7C01                1394  	xor a, #0x01
00000611 6168                1395  	or a, x
00000613 DF00                1396  	bnz $.BB@LABEL@12_2
00000615                     1397  .BB@LABEL@12_8:	; bb71
00000615                     1398  	;***      281 : 			sendToRasPi(H_ALARM, CVCC_ALARM, 1);
00000615                     1399  	;***      282 : 			electrolyticOperationOFF();
00000615                     1400  	;***      283 : 			//TODO: Wait Reset
00000615                     1401  	;***      284 : 			while((g_rx_data[0] != H_CLEAR)&(g_rx_data[1] != CVCC_ALARM)){
00000615                     1402  	;***      285 : 				R_WDT_Restart();
00000615                     1403  	;***      286 : 			}
00000615                     1404  	;***      287 : 			goto WAIT_RESET;
00000615                     1405  	;***      288 : 		}
00000615                     1406  	;***      289 : 	}while((I_ACID_H_PIN == 0)|(I_ALKALI_H_PIN == 0));
00000615                     1407  	;***      290 : 	electrolyticOperationOFF();
00000615                     1408  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 290
00000615 EE0000              1409  	br $!_electrolyticOperationOFF
00000618                     1410  .BB@LABEL@12_9:	; if_then_bb36
00000618                     1411  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 281
00000618 34803F              1412  	movw de, #0x3F80
0000061B F7                  1413  	clrw bc
0000061C 300F41              1414  	movw ax, #0x410F
0000061F FE0000              1415  	call $!_sendToRasPi
00000622                     1416  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 282
00000622 FE0000              1417  	call $!_electrolyticOperationOFF
00000625                     1418  .BB@LABEL@12_10:	; bb38
00000625                     1419  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 284
00000625 4000000F            1420  	cmp !LOWW(_g_rx_data+0x00001), #0x0F
00000629 8F0000              1421  	mov a, !LOWW(_g_rx_data)
0000062C DD00                1422  	bz $.BB@LABEL@12_1
0000062E                     1423  .BB@LABEL@12_11:	; bb38
0000062E 4C43                1424  	cmp a, #0x43
00000630 DD00                1425  	bz $.BB@LABEL@12_1
00000632                     1426  .BB@LABEL@12_12:	; bb37
00000632                     1427  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 285
00000632 FC000000            1428  	call !!_R_WDT_Restart
00000636 EF00                1429  	br $.BB@LABEL@12_10
00000638                     1430  _solenoidCheck:
00000638                     1431  	.STACK _solenoidCheck = 12
00000638                     1432  	;***      291 : }
00000638                     1433  	;***      292 : void solenoidCheck(void){
00000638                     1434  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 292
00000638 2004                1435  	subw sp, #0x04
0000063A                     1436  	;***      293 : 	uint32_t _time_count = 0;
0000063A                     1437  	;***      294 : 	if((g_flow_value <= 0.1f)&(_time_count == g_timerSetting.t17_solenoidLeakageStartTime*1000)){
0000063A                     1438  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 294
0000063A AF0000              1439  	movw ax, !LOWW(_g_timerSetting+0x00020)
0000063D 32E803              1440  	movw bc, #0x03E8
00000640 CEFB01              1441  	mulhu
00000643 14                  1442  	movw de, ax
00000644 C3                  1443  	push bc
00000645 C6                  1444  	pop hl
00000646 AF0000              1445  	movw ax, !LOWW(_g_timerSetting+0x00022)
00000649 32E803              1446  	movw bc, #0x03E8
0000064C CEFB02              1447  	mulh
0000064F 07                  1448  	addw ax, hl
00000650 05                  1449  	addw ax, de
00000651 DB0000              1450  	movw bc, !LOWW(_g_flow_value+0x00002)
00000654 EB0000              1451  	movw de, !LOWW(_g_flow_value)
00000657 DF00                1452  	bnz $.BB@LABEL@13_3
00000659                     1453  .BB@LABEL@13_1:	; entry
00000659 DC00                1454  	bc $.BB@LABEL@13_3
0000065B                     1455  .BB@LABEL@13_2:	; entry
0000065B 30CC3D              1456  	movw ax, #0x3DCC
0000065E C1                  1457  	push ax
0000065F 30CDCC              1458  	movw ax, #0xCCCD
00000662 C1                  1459  	push ax
00000663 15                  1460  	movw ax, de
00000664 FC000000            1461  	call !!__COM_fle
00000668 1004                1462  	addw sp, #0x04
0000066A D1                  1463  	cmp0 a
0000066B DF00                1464  	bnz $.BB@LABEL@13_4
0000066D                     1465  .BB@LABEL@13_3:	; entry.if_break_bb_crit_edge
0000066D F6                  1466  	clrw ax
0000066E B802                1467  	movw [sp+0x02], ax
00000670 B800                1468  	movw [sp+0x00], ax
00000672 EF00                1469  	br $.BB@LABEL@13_5
00000674                     1470  .BB@LABEL@13_4:	; if_then_bb
00000674 E6                  1471  	onew ax
00000675 B802                1472  	movw [sp+0x02], ax
00000677 B1                  1473  	decw ax
00000678 B800                1474  	movw [sp+0x00], ax
0000067A                     1475  	;***      295 : 		_time_count++;
0000067A                     1476  	;***      296 : 		delay_ms(1);
0000067A                     1477  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 296
0000067A F7                  1478  	clrw bc
0000067B A1                  1479  	incw ax
0000067C FC000000            1480  	call !!_delay_ms
00000680                     1481  .BB@LABEL@13_5:	; if_break_bb
00000680                     1482  	;***      297 : 	}
00000680                     1483  	;***      298 : 	if(_time_count == g_timerSetting.t17_solenoidLeakageStartTime*1000){
00000680                     1484  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 298
00000680 AF0000              1485  	movw ax, !LOWW(_g_timerSetting+0x00020)
00000683 32E803              1486  	movw bc, #0x03E8
00000686 CEFB01              1487  	mulhu
00000689 14                  1488  	movw de, ax
0000068A C3                  1489  	push bc
0000068B C6                  1490  	pop hl
0000068C AF0000              1491  	movw ax, !LOWW(_g_timerSetting+0x00022)
0000068F 32E803              1492  	movw bc, #0x03E8
00000692 CEFB02              1493  	mulh
00000695 07                  1494  	addw ax, hl
00000696 12                  1495  	movw bc, ax
00000697 A800                1496  	movw ax, [sp+0x00]
00000699 43                  1497  	cmpw ax, bc
0000069A A802                1498  	movw ax, [sp+0x02]
0000069C 61F8                1499  	sknz
0000069E                     1500  .BB@LABEL@13_6:	; if_break_bb
0000069E 45                  1501  	cmpw ax, de
0000069F                     1502  .BB@LABEL@13_7:	; if_break_bb
0000069F 1004                1503  	addw sp, #0x04
000006A1 DF00                1504  	bnz $.BB@LABEL@13_9
000006A3                     1505  .BB@LABEL@13_8:	; if_then_bb20
000006A3                     1506  	;***      299 : 		sendToRasPi(H_ALARM, SOLENOID_VALVE_ERROR, 1);
000006A3                     1507  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 299
000006A3 34803F              1508  	movw de, #0x3F80
000006A6 F7                  1509  	clrw bc
000006A7 300841              1510  	movw ax, #0x4108
000006AA EE0000              1511  	br $!_sendToRasPi
000006AD                     1512  .BB@LABEL@13_9:	; return
000006AD                     1513  	;***      300 : 	}
000006AD                     1514  	;***      301 : }
000006AD                     1515  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 301
000006AD D7                  1516  	ret
000006AE                     1517  _saltWaterTankFullCheck:
000006AE                     1518  	.STACK _saltWaterTankFullCheck = 4
000006AE                     1519  	;***      302 : void saltWaterTankFullCheck(void){
000006AE                     1520  	;***      303 : 	if(I_SALT_H_PIN == 1){
000006AE                     1521  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 303
000006AE 8D05                1522  	mov a, 0xFFF05
000006B0 313300              1523  	bt a.3, $.BB@LABEL@14_2
000006B3                     1524  .BB@LABEL@14_1:	; return
000006B3                     1525  	;***      304 : 		sendToRasPi(H_ALARM, SALT_WATER_FULL_ERROR, 1);
000006B3                     1526  	;***      305 : 		electrolyticOperationOFF();
000006B3                     1527  	;***      306 : 		//TODO: Fault in the flowchart
000006B3                     1528  	;***      307 : 	}
000006B3                     1529  	;***      308 : }
000006B3                     1530  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 308
000006B3 D7                  1531  	ret
000006B4                     1532  .BB@LABEL@14_2:	; if_then_bb
000006B4                     1533  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 304
000006B4 34803F              1534  	movw de, #0x3F80
000006B7 F7                  1535  	clrw bc
000006B8 300941              1536  	movw ax, #0x4109
000006BB FE0000              1537  	call $!_sendToRasPi
000006BE                     1538  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 305
000006BE EE0000              1539  	br $!_electrolyticOperationOFF
000006C1                     1540  _saltWaterTankEmptyCheck:
000006C1                     1541  	.STACK _saltWaterTankEmptyCheck = 4
000006C1                     1542  	;***      309 : void saltWaterTankEmptyCheck(void){
000006C1                     1543  	;***      310 : 	if(I_SALT_L_PIN == 0){
000006C1                     1544  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 310
000006C1 8D05                1545  	mov a, 0xFFF05
000006C3 314300              1546  	bt a.4, $.BB@LABEL@15_2
000006C6                     1547  .BB@LABEL@15_1:	; if_then_bb
000006C6                     1548  	;***      311 : 		sendToRasPi(H_ALARM, SALT_WATER_EMPTY_ERROR, 1);
000006C6                     1549  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 311
000006C6 34803F              1550  	movw de, #0x3F80
000006C9 F7                  1551  	clrw bc
000006CA 300A41              1552  	movw ax, #0x410A
000006CD EE0000              1553  	br $!_sendToRasPi
000006D0                     1554  .BB@LABEL@15_2:	; return
000006D0                     1555  	;***      312 : 		//TODO: Control OFF
000006D0                     1556  	;***      313 : 	}
000006D0                     1557  	;***      314 : }
000006D0                     1558  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 314
000006D0 D7                  1559  	ret
000006D1                     1560  _acidWaterTankSkipCheck:
000006D1                     1561  	.STACK _acidWaterTankSkipCheck = 4
000006D1                     1562  	;***      315 : void acidWaterTankSkipCheck(void){
000006D1                     1563  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 315
000006D1 3407FF              1564  	movw de, #0xFF07
000006D4                     1565  	;***      316 : 	if(((I_ACID_L_PIN == 0)&((I_ACID_M_PIN == 1)|(I_ACID_H_PIN == 1)))|
000006D4                     1566  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 316
000006D4 89                  1567  	mov a, [de]
000006D5 72                  1568  	mov c, a
000006D6 89                  1569  	mov a, [de]
000006D7 312A                1570  	shr a, 0x02
000006D9 73                  1571  	mov b, a
000006DA 89                  1572  	mov a, [de]
000006DB 313A                1573  	shr a, 0x03
000006DD 70                  1574  	mov x, a
000006DE 63                  1575  	mov a, b
000006DF 6160                1576  	or x, a
000006E1 62                  1577  	mov a, c
000006E2 311A                1578  	shr a, 0x01
000006E4 5C01                1579  	and a, #0x01
000006E6 7C01                1580  	xor a, #0x01
000006E8 6158                1581  	and a, x
000006EA 73                  1582  	mov b, a
000006EB 89                  1583  	mov a, [de]
000006EC 71AC                1584  	mov1 CY, a.2
000006EE E1                  1585  	oneb a
000006EF 3C00                1586  	subc a, #0x00
000006F1 70                  1587  	mov x, a
000006F2 89                  1588  	mov a, [de]
000006F3 71BC                1589  	mov1 CY, a.3
000006F5 F1                  1590  	clrb a
000006F6 1C00                1591  	addc a, #0x00
000006F8 6158                1592  	and a, x
000006FA 616B                1593  	or a, b
000006FC 318E                1594  	shrw ax, 8+0x00000
000006FE F7                  1595  	clrw bc
000006FF 43                  1596  	cmpw ax, bc
00000700 61F8                1597  	sknz
00000702                     1598  .BB@LABEL@16_1:	; return
00000702                     1599  	;***      317 : 			((I_ACID_M_PIN == 0)&(I_ACID_H_PIN == 1))){
00000702                     1600  	;***      318 : 		sendToRasPi(H_ALARM, ACID_ERROR, 1);
00000702                     1601  	;***      319 : 		//TODO: Control OFF
00000702                     1602  	;***      320 : 	}
00000702                     1603  	;***      321 : }
00000702                     1604  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 321
00000702 D7                  1605  	ret
00000703                     1606  .BB@LABEL@16_2:	; if_then_bb
00000703                     1607  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 318
00000703 34803F              1608  	movw de, #0x3F80
00000706 300B41              1609  	movw ax, #0x410B
00000709 EE0000              1610  	br $!_sendToRasPi
0000070C                     1611  _alkalineWaterTankSkipCheck:
0000070C                     1612  	.STACK _alkalineWaterTankSkipCheck = 6
0000070C                     1613  	;***      322 : void alkalineWaterTankSkipCheck(void){
0000070C                     1614  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 322
0000070C C7                  1615  	push hl
0000070D                     1616  	;***      323 : 	if(((I_ALKALI_L_PIN == 0)&((I_ALKALI_M_PIN == 1)|(I_ALKALI_H_PIN == 1)))|
0000070D                     1617  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 323
0000070D D800                1618  	mov x, 0xFFF00
0000070F 8D00                1619  	mov a, 0xFFF00
00000711 316A                1620  	shr a, 0x06
00000713 6B07                1621  	or a, 0xFFF07
00000715 73                  1622  	mov b, a
00000716 60                  1623  	mov a, x
00000717 315A                1624  	shr a, 0x05
00000719 5C01                1625  	and a, #0x01
0000071B 7C01                1626  	xor a, #0x01
0000071D 70                  1627  	mov x, a
0000071E 63                  1628  	mov a, b
0000071F 6150                1629  	and x, a
00000721 60                  1630  	mov a, x
00000722 9800                1631  	mov [sp+0x00], a
00000724 8D00                1632  	mov a, 0xFFF00
00000726 71EC                1633  	mov1 CY, a.6
00000728 E1                  1634  	oneb a
00000729 3C00                1635  	subc a, #0x00
0000072B 70                  1636  	mov x, a
0000072C 8D07                1637  	mov a, 0xFFF07
0000072E 718C                1638  	mov1 CY, a.0
00000730 F1                  1639  	clrb a
00000731 1C00                1640  	addc a, #0x00
00000733 6158                1641  	and a, x
00000735 70                  1642  	mov x, a
00000736 8800                1643  	mov a, [sp+0x00]
00000738 6168                1644  	or a, x
0000073A 318E                1645  	shrw ax, 8+0x00000
0000073C F7                  1646  	clrw bc
0000073D C6                  1647  	pop hl
0000073E 43                  1648  	cmpw ax, bc
0000073F 61F8                1649  	sknz
00000741                     1650  .BB@LABEL@17_1:	; return
00000741                     1651  	;***      324 : 			((I_ALKALI_M_PIN == 0)&(I_ALKALI_H_PIN == 1))){
00000741                     1652  	;***      325 : 		sendToRasPi(H_ALARM, ALKALINE_ERROR, 1);
00000741                     1653  	;***      326 : 		//TODO: Control OFF
00000741                     1654  	;***      327 : 	}
00000741                     1655  	;***      328 : }
00000741                     1656  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 328
00000741 D7                  1657  	ret
00000742                     1658  .BB@LABEL@17_2:	; if_then_bb
00000742                     1659  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 325
00000742 34803F              1660  	movw de, #0x3F80
00000745 300C41              1661  	movw ax, #0x410C
00000748 EE0000              1662  	br $!_sendToRasPi
0000074B                     1663  _OpenSV1:
0000074B                     1664  	.STACK _OpenSV1 = 4
0000074B                     1665  	;***      329 : 
0000074B                     1666  	;***      330 : void OpenSV1(void){
0000074B                     1667  	;***      331 : 	O_SUPPLY_WATER_PIN = ON;
0000074B                     1668  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 331
0000074B 717201              1669  	set1 0xFFF01.7
0000074E D7                  1670  	ret
0000074F                     1671  _CloseSV1:
0000074F                     1672  	.STACK _CloseSV1 = 4
0000074F                     1673  	;***      332 : }
0000074F                     1674  	;***      333 : void CloseSV1(void){
0000074F                     1675  	;***      334 : 	O_SUPPLY_WATER_PIN = OFF;
0000074F                     1676  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 334
0000074F 717301              1677  	clr1 0xFFF01.7
00000752 D7                  1678  	ret
00000753                     1679  _OpenSV2:
00000753                     1680  	.STACK _OpenSV2 = 4
00000753                     1681  	;***      335 : }
00000753                     1682  	;***      336 : void OpenSV2(void){
00000753                     1683  	;***      337 : 	O_SPOUT_WATER_PIN = ON;
00000753                     1684  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 337
00000753 715205              1685  	set1 0xFFF05.5
00000756 D7                  1686  	ret
00000757                     1687  _CloseSV2:
00000757                     1688  	.STACK _CloseSV2 = 4
00000757                     1689  	;***      338 : }
00000757                     1690  	;***      339 : void CloseSV2(void){
00000757                     1691  	;***      340 : 	O_SPOUT_WATER_PIN = OFF;
00000757                     1692  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 340
00000757 715305              1693  	clr1 0xFFF05.5
0000075A D7                  1694  	ret
0000075B                     1695  _FilterReplacementCheck:
0000075B                     1696  	.STACK _FilterReplacementCheck = 4
0000075B                     1697  	;***      341 : }
0000075B                     1698  	;***      342 : uint8_t FilterReplacementCheck(void){
0000075B                     1699  	;***      343 : 
0000075B                     1700  	;***      344 : 	return 0;
0000075B                     1701  	;***      345 : }
0000075B                     1702  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 345
0000075B F1                  1703  	clrb a
0000075C D7                  1704  	ret
0000075D                     1705  _main_20211111:
0000075D                     1706  	.STACK _main_20211111 = 4
0000075D                     1707  	;***      346 : 
0000075D                     1708  	;***      347 : // Newest
0000075D                     1709  	;***      348 : void main_20211111(void){
0000075D                     1710  	;***      349 : 	InitialOperationModeStart();
0000075D                     1711  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 349
0000075D FE0000              1712  	call $!_InitialOperationModeStart
00000760                     1713  	;***      350 : 	WaterSupplyOperation();
00000760                     1714  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 350
00000760 FE0000              1715  	call $!_WaterSupplyOperation
00000763                     1716  	;***      351 : 	ElectrolyticOperation();
00000763                     1717  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 351
00000763 EE0000              1718  	br $!_ElectrolyticOperation
00000766                     1719  _waitReset:
00000766                     1720  	.STACK _waitReset = 4
00000766                     1721  .BB@LABEL@24_1:	; bb1
00000766                     1722  	;***      352 : 
00000766                     1723  	;***      353 : 
00000766                     1724  	;***      354 : //	Test section
00000766                     1725  	;***      355 : //	electrolyticOperationON();
00000766                     1726  	;***      356 : //	delay_ms(500);
00000766                     1727  	;***      357 : //	Voltage1Check();
00000766                     1728  	;***      358 : //	Voltage2Check();
00000766                     1729  	;***      359 : //	Voltage3Check();
00000766                     1730  	;***      360 : //	LowVoltageCheck();
00000766                     1731  	;***      361 : //	if(OverCurrentCheck() == 0) electrolyticOperationOFF();
00000766                     1732  	;***      362 : }
00000766                     1733  	;***      363 : 
00000766                     1734  	;***      364 : void waitReset(void){
00000766                     1735  	;***      365 : 	while(g_error != 0){
00000766                     1736  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 365
00000766 AF0000              1737  	movw ax, !LOWW(_g_error)
00000769 F7                  1738  	clrw bc
0000076A 43                  1739  	cmpw ax, bc
0000076B DD00                1740  	bz $.BB@LABEL@24_3
0000076D                     1741  .BB@LABEL@24_2:	; bb
0000076D                     1742  	;***      366 : 		R_WDT_Restart();
0000076D                     1743  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 366
0000076D FC000000            1744  	call !!_R_WDT_Restart
00000771 EF00                1745  	br $.BB@LABEL@24_1
00000773                     1746  .BB@LABEL@24_3:	; return
00000773                     1747  	;***      367 : 	}
00000773                     1748  	;***      368 : }
00000773                     1749  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 368
00000773 D7                  1750  	ret
00000774                     1751  _electrolyticOperationON:
00000774                     1752  	.STACK _electrolyticOperationON = 4
00000774                     1753  	;***      369 : /**
00000774                     1754  	;***      370 :  * 30/11/2021: Checked by An, missing Neutralization timer ON
00000774                     1755  	;***      371 :  */
00000774                     1756  	;***      372 : void electrolyticOperationON(void){
00000774                     1757  	;***      373 : 	//Electrolytic operation ON
00000774                     1758  	;***      374 : 	O_SUPPLY_WATER_PIN = ON;
00000774                     1759  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 374
00000774 717201              1760  	set1 0xFFF01.7
00000777                     1761  	;***      375 : 	O_CVCC_ON_PIN = ON;
00000777                     1762  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 375
00000777 71220E              1763  	set1 0xFFF0E.2
0000077A                     1764  	;***      376 : 	O_PUMP_SALT_PIN = ON; //SP1
0000077A                     1765  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 376
0000077A 710206              1766  	set1 0xFFF06.0
0000077D                     1767  	;***      377 : 	g_electrolytic_flag = 1;
0000077D                     1768  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 377
0000077D E50000              1769  	oneb !LOWW(_g_electrolytic_flag)
00000780                     1770  	;***      378 : 	g_neutralization_time = g_neutralization_time == 0 ? g_systemTime:g_neutralization_time;
00000780                     1771  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 378
00000780 DB0000              1772  	movw bc, !LOWW(_g_neutralization_time+0x00002)
00000783 AF0000              1773  	movw ax, !LOWW(_g_neutralization_time)
00000786 14                  1774  	movw de, ax
00000787 03                  1775  	addw ax, bc
00000788 DF00                1776  	bnz $.BB@LABEL@25_3
0000078A                     1777  .BB@LABEL@25_1:	; entry
0000078A DC00                1778  	bc $.BB@LABEL@25_3
0000078C                     1779  .BB@LABEL@25_2:	; bb
0000078C DB0000              1780  	movw bc, !LOWW(_g_systemTime+0x00002)
0000078F EB0000              1781  	movw de, !LOWW(_g_systemTime)
00000792                     1782  .BB@LABEL@25_3:	; bb6
00000792 15                  1783  	movw ax, de
00000793 BF0000              1784  	movw !LOWW(_g_neutralization_time), ax
00000796 13                  1785  	movw ax, bc
00000797 BF0000              1786  	movw !LOWW(_g_neutralization_time+0x00002), ax
0000079A                     1787  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 380
0000079A D7                  1788  	ret
0000079B                     1789  _electrolyticOperationOFF:
0000079B                     1790  	.STACK _electrolyticOperationOFF = 4
0000079B                     1791  	;***      379 : 	//TODO: Add Neutralization timer ON
0000079B                     1792  	;***      380 : }
0000079B                     1793  	;***      381 : /**
0000079B                     1794  	;***      382 :  * 30/11/2021: Checked by An, missing Neutralization timer OFF
0000079B                     1795  	;***      383 :  */
0000079B                     1796  	;***      384 : void electrolyticOperationOFF(void){
0000079B                     1797  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 384
0000079B F6                  1798  	clrw ax
0000079C                     1799  	;***      385 : 	//TODO: Add Neutralization timer OFF
0000079C                     1800  	;***      386 : 	g_neutralization_time = 0;
0000079C                     1801  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 386
0000079C BF0000              1802  	movw !LOWW(_g_neutralization_time+0x00002), ax
0000079F BF0000              1803  	movw !LOWW(_g_neutralization_time), ax
000007A2                     1804  	;***      387 : 	//Electrolytic operation OFF
000007A2                     1805  	;***      388 : 	O_CVCC_ON_PIN = OFF;
000007A2                     1806  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 388
000007A2 71230E              1807  	clr1 0xFFF0E.2
000007A5                     1808  	;***      389 : 	O_PUMP_SALT_PIN = OFF; //SP1
000007A5                     1809  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 389
000007A5 710306              1810  	clr1 0xFFF06.0
000007A8                     1811  	;***      390 : 	delay(5);
000007A8                     1812  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 390
000007A8 5105                1813  	mov a, #0x05
000007AA FC000000            1814  	call !!_delay
000007AE                     1815  	;***      391 : 	O_SUPPLY_WATER_PIN = OFF;
000007AE                     1816  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 391
000007AE 717301              1817  	clr1 0xFFF01.7
000007B1                     1818  	;***      392 : 	g_electrolytic_flag = 0;
000007B1                     1819  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 392
000007B1 F50000              1820  	clrb !LOWW(_g_electrolytic_flag)
000007B4 D7                  1821  	ret
000007B5                     1822  _measureFlowSensor:
000007B5                     1823  	.STACK _measureFlowSensor = 22
000007B5                     1824  	;***      393 : 
000007B5                     1825  	;***      394 : }
000007B5                     1826  	;***      395 : /**
000007B5                     1827  	;***      396 :  *
000007B5                     1828  	;***      397 :  * @param s: Period time take measurement in mills second
000007B5                     1829  	;***      398 :  * @return L/minutes
000007B5                     1830  	;***      399 :  */
000007B5                     1831  	;***      400 : float measureFlowSensor(uint32_t s){
000007B5                     1832  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 400
000007B5 C3                  1833  	push bc
000007B6 C1                  1834  	push ax
000007B7 200A                1835  	subw sp, #0x0A
000007B9                     1836  	;***      401 : 	uint32_t stamp_flow_sensor = g_systemTime;
000007B9                     1837  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 401
000007B9 AF0000              1838  	movw ax, !LOWW(_g_systemTime+0x00002)
000007BC B808                1839  	movw [sp+0x08], ax
000007BE AF0000              1840  	movw ax, !LOWW(_g_systemTime)
000007C1 B806                1841  	movw [sp+0x06], ax
000007C3 F6                  1842  	clrw ax
000007C4 B800                1843  	movw [sp+0x00], ax
000007C6 E1                  1844  	oneb a
000007C7 9802                1845  	mov [sp+0x02], a
000007C9 F6                  1846  	clrw ax
000007CA B804                1847  	movw [sp+0x04], ax
000007CC                     1848  .BB@LABEL@27_1:	; bb28
000007CC A80A                1849  	movw ax, [sp+0x0A]
000007CE 12                  1850  	movw bc, ax
000007CF A80C                1851  	movw ax, [sp+0x0C]
000007D1 14                  1852  	movw de, ax
000007D2                     1853  	;***      402 : 	float flow_pluse = 0.0;
000007D2                     1854  	;***      403 : 	uint8_t flow_pulse_state = 1;
000007D2                     1855  	;***      404 : 	while(!ns_delay_ms(&stamp_flow_sensor, s)){
000007D2                     1856  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 404
000007D2 AEF8                1857  	movw ax, sp
000007D4 040600              1858  	addw ax, #0x0006
000007D7 FC000000            1859  	call !!_ns_delay_ms
000007DB F7                  1860  	clrw bc
000007DC 43                  1861  	cmpw ax, bc
000007DD DF00                1862  	bnz $.BB@LABEL@27_7
000007DF                     1863  .BB@LABEL@27_2:	; bb
000007DF 8802                1864  	mov a, [sp+0x02]
000007E1 70                  1865  	mov x, a
000007E2                     1866  	;***      405 : 		if(I_FLOW_PLUSE_PIN != flow_pulse_state){
000007E2                     1867  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 405
000007E2 8D00                1868  	mov a, 0xFFF00
000007E4 311A                1869  	shr a, 0x01
000007E6 5C01                1870  	and a, #0x01
000007E8 6148                1871  	cmp a, x
000007EA DD00                1872  	bz $.BB@LABEL@27_6
000007EC                     1873  .BB@LABEL@27_3:	; if_then_bb
000007EC                     1874  	;***      406 : 			if(I_FLOW_PLUSE_PIN == 0)
000007EC                     1875  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 406
000007EC 8D00                1876  	mov a, 0xFFF00
000007EE 311300              1877  	bt a.1, $.BB@LABEL@27_5
000007F1                     1878  .BB@LABEL@27_4:	; if_then_bb21
000007F1 30803F              1879  	movw ax, #0x3F80
000007F4                     1880  	;***      407 : 				flow_pluse++;
000007F4                     1881  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 407
000007F4 C1                  1882  	push ax
000007F5 F6                  1883  	clrw ax
000007F6 C1                  1884  	push ax
000007F7 A808                1885  	movw ax, [sp+0x08]
000007F9 12                  1886  	movw bc, ax
000007FA A804                1887  	movw ax, [sp+0x04]
000007FC FC000000            1888  	call !!__COM_fadd
00000800 B804                1889  	movw [sp+0x04], ax
00000802 13                  1890  	movw ax, bc
00000803 B808                1891  	movw [sp+0x08], ax
00000805 1004                1892  	addw sp, #0x04
00000807                     1893  .BB@LABEL@27_5:	; if_break_bb
00000807                     1894  	;***      408 : 			flow_pulse_state = I_FLOW_PLUSE_PIN;
00000807                     1895  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 408
00000807 8D00                1896  	mov a, 0xFFF00
00000809 311A                1897  	shr a, 0x01
0000080B 5C01                1898  	and a, #0x01
0000080D 9802                1899  	mov [sp+0x02], a
0000080F                     1900  .BB@LABEL@27_6:	; if_break_bb27
0000080F                     1901  	;***      409 : 		}
0000080F                     1902  	;***      410 : 		R_WDT_Restart();
0000080F                     1903  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 410
0000080F FC000000            1904  	call !!_R_WDT_Restart
00000813 EF00                1905  	br $.BB@LABEL@27_1
00000815                     1906  .BB@LABEL@27_7:	; bb39
00000815 30333F              1907  	movw ax, #0x3F33
00000818                     1908  	;***      411 : 	}
00000818                     1909  	;***      412 : 	float flow_value = (flow_pluse*0.7*60)/s; // L/minutes
00000818                     1910  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 412
00000818 C1                  1911  	push ax
00000819 5133                1912  	mov a, #0x33
0000081B C1                  1913  	push ax
0000081C A808                1914  	movw ax, [sp+0x08]
0000081E 12                  1915  	movw bc, ax
0000081F A804                1916  	movw ax, [sp+0x04]
00000821 FC000000            1917  	call !!__COM_fmul
00000825 14                  1918  	movw de, ax
00000826 1004                1919  	addw sp, #0x04
00000828 307042              1920  	movw ax, #0x4270
0000082B C1                  1921  	push ax
0000082C F6                  1922  	clrw ax
0000082D C1                  1923  	push ax
0000082E 15                  1924  	movw ax, de
0000082F FC000000            1925  	call !!__COM_fmul
00000833 B806                1926  	movw [sp+0x06], ax
00000835 13                  1927  	movw ax, bc
00000836 B804                1928  	movw [sp+0x04], ax
00000838 1004                1929  	addw sp, #0x04
0000083A A80C                1930  	movw ax, [sp+0x0C]
0000083C 12                  1931  	movw bc, ax
0000083D A80A                1932  	movw ax, [sp+0x0A]
0000083F FC000000            1933  	call !!__COM_ultof
00000843 C3                  1934  	push bc
00000844 C1                  1935  	push ax
00000845 A804                1936  	movw ax, [sp+0x04]
00000847 12                  1937  	movw bc, ax
00000848 A806                1938  	movw ax, [sp+0x06]
0000084A FC000000            1939  	call !!__COM_fdiv
0000084E                     1940  	;***      413 : 	return flow_value;
0000084E                     1941  	;***      414 : }
0000084E                     1942  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 414
0000084E 1012                1943  	addw sp, #0x12
00000850 D7                  1944  	ret
00000851                     1945  _CRC8:
00000851                     1946  	.STACK _CRC8 = 10
00000851                     1947  	;***      415 : char CRC8(const char *data,int length)
00000851                     1948  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 415
00000851 C3                  1949  	push bc
00000852 2004                1950  	subw sp, #0x04
00000854 16                  1951  	movw hl, ax
00000855 F3                  1952  	clrb b
00000856 F6                  1953  	clrw ax
00000857 14                  1954  	movw de, ax
00000858 B802                1955  	movw [sp+0x02], ax
0000085A                     1956  .BB@LABEL@28_1:	; bb46
0000085A A804                1957  	movw ax, [sp+0x04]
0000085C                     1958  	;***      416 : {
0000085C                     1959  	;***      417 :    char crc = 0x00;
0000085C                     1960  	;***      418 :    char extract;
0000085C                     1961  	;***      419 :    char sum;
0000085C                     1962  	;***      420 :    for(int i=0;i<length;i++)
0000085C                     1963  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 420
0000085C 7C80                1964  	xor a, #0x80
0000085E B800                1965  	movw [sp+0x00], ax
00000860 15                  1966  	movw ax, de
00000861 7C80                1967  	xor a, #0x80
00000863 14                  1968  	movw de, ax
00000864 A800                1969  	movw ax, [sp+0x00]
00000866 35                  1970  	xchw ax, de
00000867 45                  1971  	cmpw ax, de
00000868 DE00                1972  	bnc $.BB@LABEL@28_8
0000086A                     1973  .BB@LABEL@28_2:	; bb
0000086A                     1974  	;***      421 :    {
0000086A                     1975  	;***      422 :       extract = *data;
0000086A                     1976  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 422
0000086A 8B                  1977  	mov a, [hl]
0000086B 72                  1978  	mov c, a
0000086C 5008                1979  	mov x, #0x08
0000086E                     1980  .BB@LABEL@28_3:	; bb9
0000086E                     1981  	;***      423 :       for (char tempI = 8; tempI; tempI--)
0000086E                     1982  	;***      424 :       {
0000086E                     1983  	;***      425 :          sum = (crc ^ extract) & 0x01;
0000086E                     1984  	;***      426 :          crc >>= 1;
0000086E                     1985  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 426
0000086E 63                  1986  	mov a, b
0000086F 311A                1987  	shr a, 0x01
00000871 9800                1988  	mov [sp+0x00], a
00000873 62                  1989  	mov a, c
00000874                     1990  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 425
00000874 6173                1991  	xor b, a
00000876 63                  1992  	mov a, b
00000877 310500              1993  	bf a.0, $.BB@LABEL@28_5
0000087A                     1994  .BB@LABEL@28_4:	; if_then_bb
0000087A 8800                1995  	mov a, [sp+0x00]
0000087C                     1996  	;***      427 :          if (sum)
0000087C                     1997  	;***      428 :             crc ^= 0x8C;
0000087C                     1998  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 428
0000087C 7C8C                1999  	xor a, #0x8C
0000087E 9800                2000  	mov [sp+0x00], a
00000880                     2001  .BB@LABEL@28_5:	; if_break_bb
00000880 62                  2002  	mov a, c
00000881                     2003  	;***      429 :          extract >>= 1;
00000881                     2004  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 429
00000881 311A                2005  	shr a, 0x01
00000883 72                  2006  	mov c, a
00000884                     2007  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 423
00000884 90                  2008  	dec x
00000885 DD00                2009  	bz $.BB@LABEL@28_7
00000887                     2010  .BB@LABEL@28_6:	; if_break_bb.bb9_crit_edge
00000887 8800                2011  	mov a, [sp+0x00]
00000889 73                  2012  	mov b, a
0000088A EF00                2013  	br $.BB@LABEL@28_3
0000088C                     2014  .BB@LABEL@28_7:	; bb41
0000088C A802                2015  	movw ax, [sp+0x02]
0000088E                     2016  	;***      430 :       }
0000088E                     2017  	;***      431 :       data++;
0000088E                     2018  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 431
0000088E A1                  2019  	incw ax
0000088F 14                  2020  	movw de, ax
00000890 B802                2021  	movw [sp+0x02], ax
00000892 A7                  2022  	incw hl
00000893 8800                2023  	mov a, [sp+0x00]
00000895 73                  2024  	mov b, a
00000896 EF00                2025  	br $.BB@LABEL@28_1
00000898                     2026  .BB@LABEL@28_8:	; bb52
00000898                     2027  	;***      432 :    }
00000898                     2028  	;***      433 :    return crc;
00000898                     2029  	;***      434 : }
00000898                     2030  	.LINE "D:/Chieniwa/E2_Studio/ControlPCB_HWM/src/main.c", 434
00000898 63                  2031  	mov a, b
00000899 1006                2032  	addw sp, #0x06
0000089B D7                  2033  	ret
00000000                     2034  	.SECTION .data,DATA
00000000                     2035  	.ALIGN 2
00000000                     2036  _g_timerSetting:
00000000 E8030000            2037  	.DB4 0x000003E8
00000004 0F000000            2038  	.DB4 0x0000000F
00000008 00000000            2039  	.DS (4)
0000000C 00000000            2040  	.DS (4)
00000010 00000000            2041  	.DS (4)
00000014 00000000            2042  	.DS (4)
00000018 00000000            2043  	.DS (4)
0000001C 00000000            2044  	.DS (4)
00000020 00000000            2045  	.DS (4)
00000024 00000000            2046  	.DS (4)
00000028 00000000            2047  	.DS (4)
0000002C 00000000            2048  	.DS (4)
00000030 00000000            2049  	.DS (4)
00000034 00000000            2050  	.DS (4)
00000038 00000000            2051  	.DS (4)
0000003C 00000000            2052  	.DS (4)
00000040 00000000            2053  	.DS (4)
00000044 00                  2054  	.DS (1)
00000045 00                  2055  	.DS (1)
00000046                     2056  	.ALIGN 2
00000046                     2057  _g_neutralization_time:
00000046 00000000            2058  	.DS (4)
0000004A                     2059  _g_electrolytic_flag:
0000004A 00                  2060  	.DS (1)
00000000                     2061  	.SECTION .bss,BSS
00000000                     2062  	.ALIGN 2
00000000                     2063  _g_numberSetting:
00000000                     2064  	.DS (34)
00000022                     2065  _g_color:
00000022                     2066  	.DS (1)
00000023                     2067  _g_pre_color:
00000023                     2068  	.DS (1)
00000024                     2069  	.ALIGN 2
00000024                     2070  _g_cvcc_current:
00000024                     2071  	.DS (4)
00000028                     2072  	.ALIGN 2
00000028                     2073  _g_cvcc_voltge:
00000028                     2074  	.DS (4)
0000002C                     2075  _g_alarm:
0000002C                     2076  	.DS (1)
0000002D 00                  2077  	.ALIGN 2
0000002E                     2078  _g_flow_value:
0000002E                     2079  	.DS (4)

Section List
Attr     Size                Name

TEXTF              2204 (0000089C) .textf
DATA                 75 (0000004B) .data
BSS                  50 (00000032) .bss

Command Line Parameter
Files (x86)\Renesas Electronics\CS+\CC\CC-RL\V1.10.00\bin\asrl.exe" @C:\Users\CODEP~1\AppData\Local\Temp\$ccrl001\main.asm.cmd 

Command File Parameter
-cpu=S3 -dev=D:\Chieniwa\E2_Studio\.eclipse\com.renesas.platform_1435879475\DebugComp\RL78\RL78\Common\DR5F104ML.DVF -define=__RENESAS_VERSION__=0x01100000 -include="C:\Program Files (x86)\Renesas Electronics\CS+\CC\CC-RL\V1.10.00\inc" -include=D:\Chieniwa\E2_Studio\ControlPCB_HWM\generate -character_set=utf8 -prn_path=src -output=D:\Chieniwa\E2_Studio\ControlPCB_HWM\HardwareDebug\src\main.obj D:\Chieniwa\E2_Studio\ControlPCB_HWM\HardwareDebug\src\main.asm 

